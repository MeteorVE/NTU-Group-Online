{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/ChatRoom.vue?89ec","webpack:///./src/services/WebsocketService.js","webpack:///./src/services/RoomService.js","webpack:///./src/services/TokenService.js","webpack:///./src/store/index.js","webpack:///./src/views/RoomCreate.vue?a533","webpack:///./src/App.vue","webpack:///./src/components/NavBar.vue","webpack:///./src/components/NavBar.vue?ab0f","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js","webpack:///./src/components/SideBar.vue?83f4","webpack:///./src/views/MailRedirect.vue?e3d0","webpack:///./src/views/Register.vue?3459","webpack:///./src/views/UserPage.vue?a8e5","webpack:///./src/views/CommonRedirect.vue?4f0f","webpack:///./src/views/Home.vue","webpack:///./src/components/RoomCard.vue","webpack:///./src/components/RoomCard.vue?e69e","webpack:///./src/components/SideBar.vue","webpack:///./src/components/SideBar.vue?0957","webpack:///./src/views/Home.vue?ab8c","webpack:///./src/views/RoomCreate.vue","webpack:///./src/views/RoomCreate.vue?51ec","webpack:///./src/views/RoomShow.vue","webpack:///./src/components/ChatRoom.vue","webpack:///./src/components/ChatRoom.vue?8750","webpack:///./src/views/RoomShow.vue?b684","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b","webpack:///./src/views/UserPage.vue","webpack:///./src/services/UserService.js","webpack:///./src/components/RoomList.vue","webpack:///./src/components/RoomListCard.vue","webpack:///./src/components/RoomListCard.vue?3576","webpack:///./src/components/RoomList.vue?d292","webpack:///./src/views/UserPage.vue?75b1","webpack:///./src/views/MailRedirect.vue","webpack:///./src/views/MailRedirect.vue?ac89","webpack:///./src/views/CommonRedirect.vue","webpack:///./src/views/CommonRedirect.vue?ea2b","webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?be94","webpack:///./src/router/index.js","webpack:///./src/components/NavBar.vue?7119","webpack:///./src/components/RoomList.vue?a048","webpack:///./src/App.vue?0b7d","webpack:///./src/views/RoomShow.vue?f03f","webpack:///./src/components/RoomListCard.vue?b94b","webpack:///./src/components/RoomCard.vue?ee95","webpack:///./src/views/Login.vue?269d","webpack:///./src/components sync nonrecursive Base[A-Z]\\w+\\.(vue|js)$","webpack:///./src/views/Home.vue?6435"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","WsPrefix","process","NotifyWsServiceAddr","RoomWsPrefix","NotifyWsInfo","websocket","userID","token","this","RoomWsInfo","roomID","InitNotifyWebsocket","tokenPayload","jwt_decode","store","state","user_id","ws","WebSocket","onopen","sendInfo","send","JSON","stringify","notifyInfo","notifyWebsocketConn","onclose","log","InitRoomWebsocket","RoomInfo","roomWebsocketConn","axios","defaults","xsrfCookieName","xsrfHeaderName","apiDjango","baseURL","withCredentials","headers","Accept","interceptors","use","Authorization","response","res","status","dispatch","router","renameKeys","obj","newKeys","keyValues","keys","map","newKey","assign","getRooms","postRoom","room","date2","toString","keyMapping","description","capacity","category","renamedRoom","date1","getFullYear","getMonth","getDate","post","getRoom","roomId","putRoom","dict","put","getRoomMemberList","getRoomBlockList","postJoinRoom","nickname","deleteLeaveRoom","delete","deleteRoom","getRoomCategory","getRoomType","postBlockUser","userId","reason","deleteUnblockUser","deleteRemoveUser","putTransferAdmin","newAdminId","putSetLevel","getRoomInvitationList","postRoomInvite","getRoomRecord","getUserId","getUserDetail","getUserRooms","getMailVerify","userToken","postResetPassword","_password","password","postRegister","apiClient","postLogin","loginInfo","email","postVerifyToken","postRefreshToken","id","createStore","filter","is_verify","first_connect","localStorage","getItem","refreshToken","mutations","SET_TOKEN","setItem","SET_VERIFY","_is_verify","SET_UID","uid","actions","login","commit","TokenService","then","logout","removeItem","verifyToken","refresh","resetToken","access","getIsVerify","RoomService","catch","getters","getToken","isAuth","logouthandle","$route","fullPath","initWs","class","default-active","path","background-color","text-color","active-text-color","route","index","clearFilter","placeholder","searchInput","search","applyFilter","watch","created","computed","methods","$store","$router","$emit","render","__scopeId","components","NavBar","textarea","hasInitWs","notifyws","onmessage","parse","header","notify_string","val","copyClipboard","input","body","select","setSelectionRange","execCommand","testReturn","ret","testAPI","consoleText","wsConn","close","app","createApp","App","emitter","mitt","config","globalProperties","ElementPlus","VueMasonryPlugin","mount","requireComponent","require","forEach","fileName","componentConfig","componentName","upperFirst","camelCase","replace","component","default","transition-duration","item-selector","column-width","width","updateFilter","$event","sideBarList","urlMode","filteredRooms","typeDict","roomTypeDict","updateClickedRoom","imageList","title","dialogFormVisible","footer","joinRoom","model","dialogFormRoom","label-position","label","label-width","formLabelWidth","room_type","style","room_category","introduction","people_limit","user","autocomplete","clearable","body-style","image_url","imageLoadFailed","template","variant","getCategoryName","emitParent","props","Array","images","clickedRoomId","find","handler","item","url","text","RoomCard","SideBar","rooms","userRooms","includes","$message","resRefresh","params","errMsg","dic","uRoomsId","ref","show-icon","href","prop","rules","notNullrule","renderUrl","span","show-input","max","step","maxlength","show-word-limit","selectedImageCate","fetch-suggestions","querySearch","handleSelect","createRoom","loading","categoryDict","course","find_group","public","private","lesson","queryString","cb","results","createFilter","imageValues","toLowerCase","indexOf","selected","selectedCategory","el","required","trigger","Date","setHours","invite","tag","hardcreateRoom","statusText","success","entries","roomws","messages","addMessage","host","create_time","valid_time","size","round","memberFormVisible","memberList","userObj","member_id","icon","handleIconClick","suffix","confirmButtonText","confirmButtonType","cancelButtonText","iconColor","handleExitRoom","reference","isAdmin","handleEditRoom","input-size","inline","row","username","plain","handleMemberOperation","$index","handleTransferAdmin","tmp","handleSetLevel","blockList","handleUnblockOperation","invitedUserId","handleInvitation","invitationList","roomRecord","rec","recording","removeDialog","visible","before-close","handleClose","subTitle","extra","myID","time","sendMessage","today","hour","getHours","minute","getMinutes","String","padStart","currentTime","newMessage","nowRoomID","parseInt","msgObj","msg_type","immediate","deep","$nextTick","$refs","messageRef","scrollIntoView","behavior","ChatRoom","exist_btn_text","access_level","levelDict","admin","manager","tableData","date","address","ro","Number","init_list","showtime","getMemberList","getBlockList","getInvitationList","getRoomObj","getUserObj","handleCancelInvitation","invited_id","newLevel","handleAddModerator","parameter","blocked_user_id","operation","operationText","$prompt","inputPattern","inputErrorMessage","member","_memberList","_user","prefix-icon","native-type","block","min","forDev","Login","go","simulateLogin","form","validate","valid","tab-position","tabPosition","lastName","clickLastName","firstName","clickFirstName","cancelEditLastName","checkLastName","saveLastName","cancelEditFirstName","checkFirstName","saveFirstName","department","passwordModel","submit","center","oldPassword","sumitChangePassword","newPassword1","newPassword2","getUser","getUserRoom","putUserEdit","newLastName","newFirstName","last_name","first_name","putChangePassword","old_password","password2","roomCardContainer","moreIntro","$alert","RoomListCard","UserService","RoomList","validatePass2","rule","callback","validator","ser_fun","newlastname","newfirstname","noInputPassword","notEqualNewPassword","finishChangePassword","repeatPassword","submitReset","mailToken","align","init","register","submitRegister","routes","Home","RoomCreate","RoomShow","LoginPage","RegisterPage","MailRedirect","UserPage","CommonRedirect","createRouter","history","createWebHistory","webpackEmptyContext","req","code"],"mappings":"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","file":"js/app.1ed447bd.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"e0c8357b\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ChatRoom.vue?vue&type=style&index=0&id=42b6741e&lang=css\"","import store from '@/store/index.js'\r\nimport jwt_decode from 'jwt-decode'\r\n\r\n//const WsPrefix = 'ws://127.0.0.1:8090'\r\nconst WsPrefix = process.env.VUE_APP_WS_SERVER\r\nconst NotifyWsServiceAddr = WsPrefix + '/wsServer/connection/user/'\r\nconst RoomWsPrefix = WsPrefix + '/ws/room/'\r\n\r\nexport class NotifyWsInfo {\r\n  constructor(websocket, userID, token) {\r\n    this.websocket = websocket\r\n    this.userID = userID\r\n    this.token = token\r\n  }\r\n}\r\n\r\nexport class RoomWsInfo {\r\n  constructor(websocket, userID, roomID, token) {\r\n    this.websocket = websocket\r\n    this.userID = userID\r\n    this.roomID = roomID\r\n    this.token = token\r\n  }\r\n}\r\n\r\nexport default {\r\n  InitNotifyWebsocket(token) {\r\n    let tokenPayload = jwt_decode(token)\r\n    store.state.user_id = tokenPayload.user_id\r\n    let userID = tokenPayload.user_id\r\n    var ws = new WebSocket(NotifyWsServiceAddr + userID)\r\n    ws.onopen = function () {\r\n      //console.log('Successful Connect')\r\n      let sendInfo = { user_id: userID, token: token }\r\n      ws.send(JSON.stringify(sendInfo))\r\n      var notifyInfo = new NotifyWsInfo(ws, store.state.user_id, token)\r\n      store.state.notifyWebsocketConn = notifyInfo\r\n    }\r\n    ws.onclose = () => {\r\n      console.log('Notification websocket close')\r\n    }\r\n    return ws\r\n  },\r\n  InitRoomWebsocket(token, roomID) {\r\n    let tokenPayload = jwt_decode(token)\r\n    let userID = tokenPayload.user_id\r\n    var ws = new WebSocket(RoomWsPrefix + roomID)\r\n    ws.onopen = function () {\r\n      let sendInfo = { user_id: userID, token: token }\r\n      ws.send(JSON.stringify(sendInfo))\r\n      var RoomInfo = new RoomWsInfo(ws, userID, roomID, token)\r\n      store.state.roomWebsocketConn[roomID] = RoomInfo\r\n    }\r\n    ws.onclose = () => {\r\n      console.log('Room ID: ' + roomID + ' websocket close')\r\n    }\r\n    return ws\r\n  },\r\n}\r\n\r\n/*\r\nclass roomWsInfo {\r\n    constructor(websocket, userID)\r\n}\r\n*/\r\n","import axios from 'axios'\r\nimport store from '@/store/index.js'\r\nimport router from '@/router/index.js'\r\n\r\naxios.defaults.xsrfCookieName = 'csrftoken'\r\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\r\n// axios.defaults.headers.common['Access-Control-Allow-Origin'] = '*'\r\n\r\nconst apiDjango = axios.create({\r\n  baseURL: process.env.VUE_APP_BACKEND,\r\n  // baseURL: `http://localhost:8000`,\r\n  withCredentials: false, // This is the default\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n})\r\n\r\napiDjango.interceptors.request.use(\r\n  (request) => {\r\n    let token = store.state.token\r\n    token && (request.headers.Authorization = 'Bearer ' + token)\r\n    return request\r\n  },\r\n  (e) => Promise.reject(e)\r\n)\r\n\r\napiDjango.interceptors.response.use(\r\n  (res) => {\r\n    return Promise.resolve(res)\r\n  },\r\n  (err) => {\r\n    if (err && err.response) {\r\n      switch (err.response.status) {\r\n        case 401:\r\n          console.log('登入無效')\r\n          store.dispatch('logout')\r\n          router.push('/')\r\n          break\r\n        case 404:\r\n          console.log('找不到該頁面')\r\n          break\r\n        case 500:\r\n          console.log('伺服器出錯')\r\n          break\r\n        case 503:\r\n          console.log('服務失效')\r\n          break\r\n        default:\r\n          console.log(`連接錯誤${err.response.status}`)\r\n      }\r\n    } else {\r\n      console.log('連接到服務器失敗')\r\n    }\r\n    return Promise.reject(err.response)\r\n  })\r\n\r\nexport default {\r\n  renameKeys(obj, newKeys) {\r\n    const keyValues = Object.keys(obj).map((key) => {\r\n      const newKey = newKeys[key] || key\r\n      return { [newKey]: obj[key] }\r\n    })\r\n    return Object.assign({}, ...keyValues)\r\n  },\r\n  getRooms() {\r\n    return apiDjango.get('/room/')\r\n  },\r\n  postRoom(room) {\r\n    // title, introduction, create_time, valid_time, room_type, room_category, people_limit\r\n    console.log('[Room]:', room.date2.toString())\r\n\r\n    const keyMapping = {\r\n      description: 'introduction',\r\n      type: 'room_type',\r\n      capacity: 'people_limit',\r\n      category: 'room_category',\r\n    }\r\n    const renamedRoom = this.renameKeys(room, keyMapping)\r\n    renamedRoom['valid_time'] =\r\n      room.date1.getFullYear() +\r\n      '-' +\r\n      (room.date1.getMonth() + 1) +\r\n      '-' +\r\n      room.date1.getDate() +\r\n      ' ' +\r\n      room.date2.toString().slice(16, 24)\r\n\r\n    console.log('[renamedRoom]:', renamedRoom)\r\n    return apiDjango.post('/room/', renamedRoom)\r\n  },\r\n\r\n  getRoom(roomId) {\r\n    return apiDjango.get('/room/' + roomId + '/')\r\n  },\r\n  putRoom(roomId, dict) {\r\n    return apiDjango.put('/room/' + roomId + '/', dict)\r\n  },\r\n  getRoomMemberList(roomId) {\r\n    return apiDjango.get('/room/' + roomId + '/member_list/')\r\n  },\r\n  getRoomBlockList(roomId) {\r\n    return apiDjango.get('/room/' + roomId + '/block_list/')\r\n  },\r\n\r\n  postJoinRoom(roomId, nickname) {\r\n    return apiDjango.post('/room/' + roomId + '/join_room/', {\r\n      nickname: nickname,\r\n    })\r\n  },\r\n  deleteLeaveRoom(roomId) {\r\n    return apiDjango.delete('room/' + roomId + '/leave_room/')\r\n  },\r\n  deleteRoom(roomId) {\r\n    return apiDjango.delete('room/' + roomId + '/')\r\n  },\r\n\r\n  getRoomCategory() {\r\n    return apiDjango.get('/room/category_list/')\r\n  },\r\n  getRoomType() {\r\n    return apiDjango.get('/room/type_list/')\r\n  },\r\n\r\n  // Block and Unblock\r\n  postBlockUser(roomId, userId, reason) {\r\n    return apiDjango.post('/room/' + roomId + '/block/' + userId + '/', {\r\n      reason: reason,\r\n    })\r\n  },\r\n  deleteUnblockUser(roomId, userId) {\r\n    return apiDjango.delete('/room/' + roomId + '/unblock/' + userId + '/')\r\n  },\r\n\r\n  // Remove User\r\n  deleteRemoveUser(roomId, userId, reason) {\r\n    return apiDjango.delete('/room/' + roomId + '/remove/' + userId + '/', {\r\n      reason: reason,\r\n    })\r\n  },\r\n\r\n  // Transefer Admin\r\n  putTransferAdmin(roomId, newAdminId) {\r\n    return apiDjango.put(\r\n      '/room/' + roomId + '/transfer_admin/' + newAdminId + '/'\r\n    )\r\n  },\r\n  putSetLevel(roomId, dict) {\r\n    return apiDjango.put('/room/' + roomId + '/set_access_level/', dict)\r\n  },\r\n\r\n  // Invitation\r\n  getRoomInvitationList(roomId) {\r\n    return apiDjango.get('/room/' + roomId + '/invitation/')\r\n  },\r\n  // room/6/invite/19/\r\n  postRoomInvite(roomId, userId) {\r\n    return apiDjango.post('/room/' + roomId + '/invite/' + userId + '/')\r\n  },\r\n  getRoomRecord(roomId) {\r\n    return apiDjango.get('/room_record/' + roomId + '/')\r\n  },\r\n\r\n  getUserId() {\r\n    return apiDjango.get('/api/user/get_id/')\r\n  },\r\n  getUserDetail(userId) {\r\n    return apiDjango.get('/api/user/' + userId + '/')\r\n  },\r\n  getUserRooms() {\r\n    return apiDjango.get('/user_room/')\r\n  },\r\n  getMailVerify(userToken, token) {\r\n    return apiDjango.get(\r\n      '/api/user/verify_email/' + userToken + '/' + token + '/'\r\n    )\r\n  },\r\n  postResetPassword(userToken, token, _password) {\r\n    return apiDjango.post(\r\n      '/api/user/password_reset/' + userToken + '/' + token + '/',\r\n      { password: _password }\r\n    )\r\n  },\r\n  postRegister(dict) {\r\n    return apiDjango.post('/api/user/register/', dict)\r\n  },\r\n}\r\n","import axios from 'axios'\r\nimport store from '@/store/index.js'\r\nimport router from '@/router/index.js'\r\n\r\naxios.defaults.xsrfCookieName = 'csrftoken'\r\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\r\n\r\n\r\nconst apiClient = axios.create({\r\n  //baseURL: `https://ntu-online-group-api.herokuapp.com:8000`,\r\n  baseURL: process.env.VUE_APP_BACKEND,\r\n  withCredentials: false, // This is the default\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n})\r\n\r\napiClient.interceptors.request.use(\r\n  (request) => {\r\n    let token = store.state.token\r\n    token && (request.headers.Authorization = 'Bearer ' + token)\r\n    return request\r\n  },\r\n  (e) => Promise.reject(e)\r\n)\r\n\r\napiClient.interceptors.response.use(\r\n  (res) => {\r\n    return Promise.resolve(res)\r\n  },\r\n  (err) => {\r\n    if (err && err.response) {\r\n      switch (err.response.status) {\r\n        case 401:\r\n          console.log('登入無效')\r\n          store.dispatch('logout')\r\n          router.push('/')\r\n          break\r\n        case 404:\r\n          console.log('找不到該頁面')\r\n          break\r\n        case 500:\r\n          console.log('伺服器出錯')\r\n          break\r\n        case 503:\r\n          console.log('服務失效')\r\n          break\r\n        default:\r\n          console.log(`連接錯誤${err.response.status}`)\r\n      }\r\n    } else {\r\n      console.log('連接到服務器失敗')\r\n    }\r\n    return Promise.reject(err.response)\r\n  }\r\n)\r\n//console.log(apiClient.defaults.headers.common['Authorization']) \r\n\r\nexport default {\r\n  postLogin(loginInfo) {\r\n    return apiClient.post('/token/', {\r\n      email: loginInfo['email'],\r\n      password: loginInfo['password'],\r\n    })\r\n  },\r\n\r\n  postVerifyToken(token) {\r\n    // verify token is valid or not. /POST {token}\r\n    return apiClient.post('/token/verify/', token)\r\n  },\r\n\r\n  postRefreshToken(token) {\r\n    // verify token is valid or not. /POST {token}\r\n    return apiClient.post('/token/refresh/', token)\r\n  },\r\n\r\n  getRoom(id) {\r\n    return apiClient.get('/rooms/' + id)\r\n  },\r\n  postRoom(room) {\r\n    return apiClient.post('/rooms', room)\r\n  },\r\n}\r\n","import { createStore } from 'vuex'\r\nimport TokenService from '@/services/TokenService.js'\r\nimport RoomService from '../services/RoomService'\r\n//import WsService from '@/services/WebsocketService.js'\r\n\r\nexport default createStore({\r\n  state: {\r\n    filter: '',\r\n    roomWebsocketConn: {},\r\n    notifyWebsocketConn: null,\r\n    user_id: -1,\r\n    is_verify: null,\r\n    first_connect: true,\r\n    token: localStorage.getItem('token') || '',\r\n    refreshToken: localStorage.getItem('refresh_token') || '',\r\n  },\r\n  mutations: {\r\n    // setToken = (state, { token }) => state.token = token\r\n    SET_TOKEN(state, token) {\r\n      if ('access' in token) {\r\n        state.token = token['access']\r\n        localStorage.setItem('token', token['access'])\r\n      }\r\n      if ('refresh' in token) {\r\n        state.refreshToken = token['refresh']\r\n        localStorage.setItem('refresh_token', token['refresh'])\r\n      }\r\n    },\r\n    SET_VERIFY(state, _is_verify) {\r\n      state.is_verify = _is_verify\r\n    },\r\n    SET_UID(state, uid) {\r\n      state.user_id = uid\r\n    },\r\n  },\r\n  actions: {\r\n    login({ commit }, loginInfo) {\r\n      return TokenService.postLogin(loginInfo).then((res) => {\r\n        if (res.status == 200) {\r\n          commit('SET_TOKEN', res.data)\r\n        }\r\n      })\r\n    },\r\n    async logout({ dispatch }) {\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('refresh_token')\r\n      await dispatch('resetToken')\r\n      console.log('complete logout')\r\n      return 'success'\r\n    },\r\n    verifyToken() {\r\n      return TokenService.postVerifyToken({ token: this.state.token })\r\n      // .catch((err)=> console.log(err))\r\n    },\r\n    refreshToken({ commit }) {\r\n      return TokenService.postRefreshToken({\r\n        refresh: this.state.refreshToken || 'invalid_refresh_token_setting_for',\r\n      }).then((res) => {\r\n        if (res.status == 200) {\r\n          commit('SET_TOKEN', res.data)\r\n          localStorage.setItem('token', res.data['access'])\r\n          //WsService.InitNotifyWebsocket(res.data.access)\r\n          return Promise.resolve(res)\r\n        } else {\r\n          console.log('[Action refreshToken]: 理論上不會出現這行', res)\r\n        }\r\n      })\r\n    },\r\n    async resetToken({ commit }) {\r\n      await commit('SET_TOKEN', { access: '', refresh: '' })\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('refresh_token')\r\n    },\r\n    async getIsVerify({ commit }) {\r\n      let uid = -1\r\n      await RoomService.getUserId()\r\n        .then((res) => {\r\n          uid = res.data.id\r\n          return RoomService.getUserDetail(uid)\r\n        })\r\n        .then((res) => {\r\n          if (res.data.is_verify == true) {\r\n            commit('SET_VERIFY', true)\r\n          } else {\r\n            commit('SET_VERIFY', false)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log('[store.getIsVerify err]:', err)\r\n        })\r\n    },\r\n    async getUserId({commit}){\r\n      await RoomService.getUserId()\r\n        .then((res) => {\r\n          commit('SET_UID', res.data.id)\r\n        })\r\n        .catch((err) => {\r\n          console.log('[store.getUserId err]:', err)\r\n        })\r\n    }\r\n  },\r\n  getters: {\r\n    getToken: (state) => state.token,\r\n    isAuth: (state) => !!state.token,\r\n  },\r\n  modules: {},\r\n})\r\n\r\n/*\r\nisAuth : \r\n如果是空的(含 '')，那就會是 false\r\n如果有東西，通常就是有 token (不論是否 expired)\r\n\r\n要處理可能 expired: \r\nif token exist:\r\n  refresh it\r\nelse:\r\n  login plz\r\n\r\n*/\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RoomCreate.vue?vue&type=style&index=0&id=5f43c837&scoped=true&lang=css\"","<template>\r\n  <div id=\"app\">\r\n    <NavBar v-on:logoutsignal=\"logouthandle\" />\r\n    <router-view :key=\"$route.fullPath\" v-on:wsConnStart=\"initWs\" />\r\n    <!-- <el-input\r\n      type=\"textarea\"\r\n      :autosize=\"{ minRows: 2, maxRows: 4 }\"\r\n      placeholder=\"Here will show RoomWebsocketConn\"\r\n      v-model=\"textarea\"\r\n    >\r\n    </el-input> -->\r\n    <!-- \r\n    <el-button type=\"primary\" plain @click=\"copyClipboard()\"\r\n      >Copy text</el-button\r\n    >\r\n    <el-button type=\"primary\" plain @click=\"testReturn()\"\r\n      >test API: verify token</el-button\r\n    > -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from '@/components/NavBar.vue'\r\nimport { mapState } from 'vuex'\r\nimport WsService from '@/services/WebsocketService.js'\r\n//import store from '@/store/index.js'\r\nexport default {\r\n  components: {\r\n    NavBar,\r\n  },\r\n  data() {\r\n    return {\r\n      textarea: '',\r\n      hasInitWs: false,\r\n      notifyws: null,\r\n    }\r\n  },\r\n  created() {\r\n    this.textarea = ''\r\n    //------------------websocket-----------------------------\r\n    //這是通知的websocket,具體說明在Room Show有了\r\n    //靠夭啊好像做在Navbar就不用每頁去Handle了欸\r\n    if (this.$store.state.token && this.hasInitWs === false) {\r\n      this.hasInitWs = true\r\n      this.notifyws = WsService.InitNotifyWebsocket(this.$store.state.token) //初始化\r\n      console.log(this.notifyws)\r\n      console.log('notify websocket init success')\r\n      this.notifyws.onmessage = (event) => {\r\n        //console.log(event.data)\r\n        let res = JSON.parse(event.data) //-------收到的data-----------\r\n        //console.log(res)\r\n        switch (res.header) {\r\n          case 'setConn': //設定連線的東西\r\n            if (res.res != 'Success Connect') {\r\n              console.log('Authentication Error or Websocket server Error')\r\n            } else {\r\n              console.log(this.notifyws)\r\n              console.log('notify websocket init success')\r\n            }\r\n            break\r\n          case 'notify': //通知\r\n            //console.log(res)\r\n            console.log(res.notify_string)\r\n            if (res.notify_string === 'notify') {\r\n              console.log('You have notify')\r\n            }\r\n            //res.notify_string:按照開會的說法目前後端好像是說會送一個string過來,然後前端再去get,明天寫\r\n            break\r\n          case 'ping': //ping前端還有沒有活著\r\n            break\r\n        }\r\n      }\r\n    }\r\n    //---------------------websocket------------------------\r\n    if (this.$store.state.token) {\r\n      this.$store.dispatch('getIsVerify').then(() => {\r\n        console.log('is_verify:', this.$store.state.is_verify)\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    roomWebsocketConn: function (val) {\r\n      this.textarea = val\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState(['token', 'roomWebsocketConn']),\r\n  },\r\n  methods: {\r\n    copyClipboard() {\r\n      let input = document.body.appendChild(document.createElement('input'))\r\n      input.setAttribute('value', this.textarea)\r\n      input.select()\r\n      input.setSelectionRange(0, 99999) /* For mobile devices */\r\n      document.execCommand('copy')\r\n      console.log(this.textarea)\r\n    },\r\n    testReturn() {\r\n      let ret = this.testAPI()\r\n      //this.consoleText = ret.then((res) => console.log('[testReturn]', res))\r\n      console.log('in testReturn :', ret, this.consoleText)\r\n    },\r\n    testAPI() {\r\n      this.$store\r\n        .dispatch('verifyToken', this.event)\r\n        .then((res) => {\r\n          console.log('[App.vue] testAPI, then:', res, res.data)\r\n          return res\r\n        })\r\n        .catch((err) => {\r\n          console.log(\r\n            '[App.vue] testAPI, catch: There was a problem in test API'\r\n          )\r\n          console.log(err.response.data)\r\n          return err.response.data\r\n        })\r\n    },\r\n    initWs: function (wsConn) {\r\n      // console.log('[emit] in App.vue', wsConn, this.hasInitWs)\r\n      if (wsConn === true && this.hasInitWs === false) {\r\n        this.hasInitWs = true\r\n        //------------------websocket-----------------------------\r\n        //這是通知的websocket,具體說明在Room Show有了\r\n        //靠夭啊好像做在Navbar就不用每頁去Handle了欸\r\n        // console.log(this.$store.state.token)\r\n        // console.log(this.$store.state.notifyWebsocketConn)\r\n        // console.log(\"This isn't create\")\r\n        if (this.$store.state.token && this.notifyws == null) {\r\n          console.log('initiate')\r\n          this.notifyws = WsService.InitNotifyWebsocket(this.$store.state.token) //初始化\r\n          this.notifyws.onmessage = (event) => {\r\n            //console.log(event.data)\r\n            let res = JSON.parse(event.data) //-------收到的data-----------\r\n            //console.log(res)\r\n            switch (res.header) {\r\n              case 'setConn': //設定連線的東西\r\n                if (res.res != 'Success Connect') {\r\n                  console.log('Authentication Error or Websocket server Error')\r\n                } else {\r\n                  console.log(this.notifyws)\r\n                  console.log('notify websocket init success')\r\n                }\r\n                break\r\n              case 'notify': //通知\r\n                console.log(res.notify_string)\r\n                if (res.notify_string === 'notify') {\r\n                  console.log('You have notify')\r\n                  // todos: getNotificationList\r\n                  // ... index++\r\n                }\r\n                // notification 顯示在小鈴鐺裡面的\r\n                //res.notify_string:按照開會的說法目前後端好像是說會送一個string過來,然後前端再去get,明天寫\r\n                break\r\n              case 'ping': //ping前端還有沒有活著\r\n                break\r\n            }\r\n          }\r\n        }\r\n        //---------------------websocket------------------------\r\n      }\r\n    },\r\n    logouthandle: function () {\r\n      //logout and clean websocket\r\n      this.hasInitWs = false\r\n      console.log('websocket close')\r\n      if (this.notifyws != null) {\r\n        this.notifyws.close()\r\n        this.notifyws = null\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  /* text-align: center; */\r\n  color: #2c3e50;\r\n  max-height: 100%;\r\n}\r\nbody {\r\n  margin: 0 !important;\r\n}\r\n</style>\r\n","<template>\r\n  <div id=\"nav\" class=\"nav\">\r\n    <el-menu\r\n      :default-active=\"$route.path\"\r\n      class=\"el-menu-nav\"\r\n      mode=\"horizontal\"\r\n      background-color=\"#545c64\"\r\n      text-color=\"#fff\"\r\n      active-text-color=\"#ffd04b\"\r\n      router\r\n    >\r\n      <div class=\"menu-item-group left-group\">\r\n        <el-menu-item route=\"/\" index=\"/\" @click=\"clearFilter\"\r\n          >Homepage</el-menu-item\r\n        >\r\n        <el-menu-item class=\"plus\" route=\"/room/create\" index=\"/room/create\">\r\n          <i class=\"el-icon-plus\"></i>\r\n        </el-menu-item>\r\n        <el-menu-item class=\"bell\" index=\"5\">\r\n          <i class=\"el-icon-bell\"></i>\r\n        </el-menu-item>\r\n\r\n        <el-menu-item route=\"/about\" index=\"/about\"> About </el-menu-item>\r\n        <el-menu-item v-if=\"!isAuth\" route=\"/login\" index=\"/login\">\r\n          Login\r\n        </el-menu-item>\r\n        <el-menu-item @click=\"logout\"> Logout </el-menu-item>\r\n        <el-menu-item v-if=\"!isAuth\" route=\"/register\" index=\"/register\">\r\n          Register\r\n        </el-menu-item>\r\n        <el-menu-item route=\"/profile\" index=\"/profile\"> User </el-menu-item>\r\n      </div>\r\n      <div class=\"menu-item-group right-group\">\r\n        <el-menu-item class=\"searchbar\" index=\"/\">\r\n          <el-input\r\n            placeholder=\"搜尋\"\r\n            v-model=\"searchInput\"\r\n            @keydown=\"search\"\r\n          ></el-input>\r\n        </el-menu-item>\r\n        <el-menu-item class=\"search\" index=\"/\" @click=\"applyFilter\">\r\n          <i class=\"el-icon-search\"></i>\r\n        </el-menu-item>\r\n      </div>\r\n    </el-menu>\r\n    <!-- <router-link :to=\"{ name: 'room-show' }\">LinkTitle</router-link> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchInput: '',\r\n    }\r\n  },\r\n  watch: {},\r\n  created() {\r\n    //this.routerIndex = this.$router.path\r\n  },\r\n  computed: {\r\n    ...mapGetters(['isAuth']),\r\n  },\r\n  methods: {\r\n    logout() {\r\n      this.$store\r\n        .dispatch('logout', {})\r\n        .then(() => {\r\n          this.$router.push({\r\n            name: 'home',\r\n          })\r\n        })\r\n        .catch(() => {\r\n          console.log('There was a problem when logout')\r\n        })\r\n      this.$emit('logoutsignal', true)\r\n    },\r\n    clearFilter() {\r\n      this.$store.state.filter = ''\r\n    },\r\n    search(e) {\r\n      if (e.key == 'Enter') {\r\n        this.applyFilter()\r\n      }\r\n    },\r\n    applyFilter() {\r\n      if (this.searchInput) {\r\n        this.$store.state.filter = this.searchInput\r\n        this.searchInput = ''\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/*\r\n.el-submenu__title:hover {\r\n  background-color: #000 !important;\r\n}\r\n.el-menu-item:hover {\r\n  background-color: #000 !important;\r\n}\r\na {\r\n  color: #ffffff;\r\n  text-decoration: none;\r\n}*/\r\n.el-menu-nav {\r\n  z-index: 1;\r\n  display: flex;\r\n}\r\n.menu-item-group {\r\n  display: flex;\r\n}\r\n.left-group {\r\n  flex-grow: 1;\r\n  justify-content: flex-start;\r\n}\r\n.right-group {\r\n  flex-grow: 1;\r\n  justify-content: flex-end;\r\n}\r\n.search {\r\n  color: white !important;\r\n}\r\n</style>\r\n","import { render } from \"./NavBar.vue?vue&type=template&id=2ada9471&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=2ada9471&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-2ada9471\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=48494000\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=48494000&lang=css\"\nscript.render = render\n\nexport default script","import upperFirst from 'lodash/upperFirst'\r\nimport camelCase from 'lodash/camelCase'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport ElementPlus from 'element-plus'\r\nimport 'element-plus/lib/theme-chalk/index.css'\r\nimport { VueMasonryPlugin } from 'vue-masonry/src/masonry-vue3.plugin'\r\nimport mitt from 'mitt' // VueMasonryPlugin Dependencies\r\n\r\nimport { createApp } from 'vue'\r\n//require('dotenv').config({ path: '../.env' })\r\n//console.log(require('dotenv').config({  path: '../.env' }))\r\nconsole.log(process.env.VUE_APP_BACKEND)\r\nconsole.log(process.env.VUE_APP_WS_SERVER)\r\nconsole.log(process.env.VUE_APP_TEST)\r\n\r\n\r\n// Way 1\r\n// const app = createApp(App)\r\n//   .use(store)\r\n//   .use(router)\r\n//   .use(ElementPlus)\r\n//   .use(VueMasonryPlugin)\r\n//   .mount('#app')\r\n\r\n// Way 2\r\nlet app = createApp(App)\r\nconst emitter = mitt()\r\napp.config.globalProperties.emitter = emitter\r\napp.use(store).use(router).use(ElementPlus).use(VueMasonryPlugin).mount('#app')\r\n\r\n// for auto register component with \"Base...\" prefix name.\r\nconst requireComponent = require.context(\r\n  './components',\r\n  false,\r\n  /Base[A-Z]\\w+\\.(vue|js)$/\r\n)\r\nrequireComponent.keys().forEach((fileName) => {\r\n  const componentConfig = requireComponent(fileName)\r\n\r\n  const componentName = upperFirst(\r\n    camelCase(fileName.replace(/^\\.\\/(.*)\\.\\w+$/, '$1'))\r\n  )\r\n\r\n  app.component(componentName, componentConfig.default || componentConfig)\r\n})\r\n\r\n/*new Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')*/\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SideBar.vue?vue&type=style&index=0&id=5fb2895b&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MailRedirect.vue?vue&type=style&index=0&id=51d37446&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=9ec4355a&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserPage.vue?vue&type=style&index=0&id=e076cce2&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CommonRedirect.vue?vue&type=style&index=0&id=2a49a6ef&scoped=true&lang=css\"","<template>\r\n  <div class=\"home\">\r\n    <!-- <RoomCard v-for=\"room in rooms\" :key=\"room.id\" :room=\"room\" /> -->\r\n    <el-container>\r\n      <el-aside width=\"160px\"\r\n        ><SideBar\r\n          v-on:applyFilter=\"updateFilter($event)\"\r\n          :sideBarList=\"\r\n            sideBarList.map((c) => ({\r\n              text: c,\r\n              url: '',\r\n            }))\r\n          \"\r\n          :urlMode=\"false\"\r\n      /></el-aside>\r\n      <el-main id=\"roomCardContainer\">\r\n        <div\r\n          v-masonry\r\n          transition-duration=\"0.2s\"\r\n          item-selector=\".item\"\r\n          column-width=\".item\"\r\n          class=\"rooms-container\"\r\n          v-if=\"filteredRooms.length > 0\"\r\n        >\r\n          <div\r\n            v-masonry-tile\r\n            class=\"item\"\r\n            v-for=\"(room, index) in filteredRooms\"\r\n            v-bind:key=\"index\"\r\n          >\r\n            <RoomCard\r\n              :room=\"room\"\r\n              :typeDict=\"roomTypeDict\"\r\n              @update=\"updateClickedRoom\"\r\n              :imageList=\"imageList\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div v-else><el-empty description=\"找不到相關結果\"></el-empty></div>\r\n      </el-main>\r\n    </el-container>\r\n\r\n    <!-- <el-card v-for=\"room in rooms\" :key=\"room.id\" class=\"box-card\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>{{ room.title }}</span>\r\n          <el-button class=\"button\" type=\"text\"\r\n            ><router-link :to=\"{ name: 'room-show', params: { id: room.id } }\"\r\n              >進入\r\n            </router-link></el-button\r\n          >\r\n          <el-button\r\n            type=\"text\"\r\n            @click=\";(dialogFormRoom = room) + (dialogFormVisible = true)\"\r\n            >點我填表單</el-button\r\n          >\r\n        </div>\r\n      </template>\r\n      <div class=\"text item\">created by @{{ room.organizer }}</div>\r\n      <div class=\"text item\">{{ room.people_limit }}</div>\r\n      <div class=\"text item\">{{ room.introduction }}</div>\r\n    </el-card> -->\r\n\r\n    <el-dialog title=\"加入房間\" v-model=\"dialogFormVisible\">\r\n      <el-form :model=\"dialogFormRoom\" label-position=\"left\">\r\n        <el-form-item label=\"房間名稱\" :label-width=\"formLabelWidth\">\r\n          <el-form-item :label=\"dialogFormRoom.title\"></el-form-item>\r\n        </el-form-item>\r\n        <el-form-item label=\"房間 Type\" :label-width=\"formLabelWidth\">\r\n          <el-tag type=\"info\">{{ dialogFormRoom.room_type }}</el-tag>\r\n          <!-- <el-form-item :label=\"dialogFormRoom.room_type\"></el-form-item> -->\r\n        </el-form-item>\r\n        <el-form-item label=\"房間 Category\" :label-width=\"formLabelWidth\">\r\n          <el-tag type=\"success\" style=\"text-align: left\">{{\r\n            dialogFormRoom.room_category\r\n          }}</el-tag>\r\n          <!-- <el-form-item :label=\"dialogFormRoom.room_category\"></el-form-item> -->\r\n        </el-form-item>\r\n        <el-form-item label=\"簡介\" :label-width=\"formLabelWidth\" class=\"desc\">\r\n          <el-form-item :label=\"dialogFormRoom.introduction\"></el-form-item>\r\n        </el-form-item>\r\n        <el-form-item label=\"最大人數\" :label-width=\"formLabelWidth\">\r\n          <el-form-item\r\n            :label=\"dialogFormRoom.people_limit.toString()\"\r\n          ></el-form-item>\r\n        </el-form-item>\r\n        <el-form-item label=\"您的暱稱\" :label-width=\"formLabelWidth\">\r\n          <el-input\r\n            v-model=\"user.nickname\"\r\n            autocomplete=\"off\"\r\n            clearable\r\n            placeholder=\"請輸入暱稱\"\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"joinRoom\">送出</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport RoomCard from '@/components/RoomCard.vue'\r\nimport SideBar from '@/components/SideBar.vue'\r\nimport RoomService from '@/services/RoomService.js'\r\n// import { ElMessage } from 'element-plus'\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  //name: 'RoomList',\r\n  components: {\r\n    RoomCard,\r\n    SideBar,\r\n  },\r\n  data() {\r\n    const imageList = [\r\n      {\r\n        value: '自定義',\r\n        url: '',\r\n        category: '',\r\n      },\r\n      {\r\n        value: '課程討論',\r\n        url: 'https://i.imgur.com/GIiSOLM.jpg',\r\n        category: 'course',\r\n      },\r\n      {\r\n        value: '吃飯',\r\n        url: 'https://i.imgur.com/kN4J0UL.jpg',\r\n        category: 'eating',\r\n      },\r\n      {\r\n        value: '爬山',\r\n        url: 'https://i.imgur.com/17SSeJb.png',\r\n        category: 'hiking',\r\n      },\r\n      {\r\n        value: '打籃球',\r\n        url: 'https://i.imgur.com/o2uS5WX.png',\r\n        category: 'baseketball',\r\n      },\r\n      {\r\n        value: '打 Apex',\r\n        url: 'https://i.imgur.com/PkZu9rV.jpg',\r\n        category: 'apex',\r\n      },\r\n      {\r\n        value: '玩 Switch 遊戲',\r\n        url: 'https://i.imgur.com/16C4zzd.png',\r\n        category: 'switch',\r\n      },\r\n      {\r\n        value: '跑步',\r\n        url: 'https://i.imgur.com/wc0HqRT.png',\r\n        category: 'running',\r\n      },\r\n      {\r\n        value: '團購',\r\n        url: 'https://i.imgur.com/hcP3JA2.png',\r\n        category: 'group_buying',\r\n      },\r\n      {\r\n        value: '逛街',\r\n        url: 'https://i.imgur.com/85zF3RK.jpg',\r\n        category: 'shopping',\r\n      },\r\n      {\r\n        value: '打遊戲',\r\n        url: 'https://i.imgur.com/ex5uIMF.jpg',\r\n        category: 'game',\r\n      },\r\n      {\r\n        value: '買衣服',\r\n        url: 'https://i.imgur.com/UElotjt.jpg',\r\n        category: 'clothing',\r\n      },\r\n      {\r\n        value: '麥當勞',\r\n        url: 'https://i.imgur.com/Ll9w1eq.png',\r\n        category: 'mc',\r\n      },\r\n      {\r\n        value: '肯德基',\r\n        url: 'https://i.imgur.com/NBt3Xka.jpg',\r\n        category: 'kfc',\r\n      },\r\n      {\r\n        value: '看電影',\r\n        url: 'https://i.imgur.com/QzZKggo.png',\r\n        category: 'moive',\r\n      },\r\n      {\r\n        value: '演唱會',\r\n        url: 'https://i.imgur.com/NBt3Xka.jpg',\r\n        category: 'live',\r\n      },\r\n      {\r\n        value: '打桌球',\r\n        url: 'https://i.imgur.com/kluQV3e.jpg',\r\n        category: 'tabletennis',\r\n      },\r\n      {\r\n        value: '讀書',\r\n        url: 'https://i.imgur.com/jneYUkV.jpg',\r\n        category: 'study',\r\n      },\r\n      {\r\n        value: '讀書會',\r\n        url: 'https://i.imgur.com/rM3O9xh.png',\r\n        category: 'studyclub',\r\n      },\r\n      {\r\n        value: '看比賽',\r\n        url: 'https://i.imgur.com/Yya0Www.png',\r\n        category: 'race',\r\n      },\r\n    ]\r\n    return {\r\n      imageList,\r\n      rooms: [],\r\n      userRooms: [],\r\n      dialogFormVisible: false,\r\n      dialogFormRoom: '',\r\n      formLabelWidth: '120px',\r\n      roomTypeDict: [],\r\n      sideBarList: [],\r\n      category: [\r\n        '吃飯',\r\n        '團購',\r\n        '遊戲',\r\n        '聊天',\r\n        '共乘',\r\n        '交易',\r\n        '分組',\r\n        '出遊',\r\n      ],\r\n      user: { nickname: '' },\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['isAuth']),\r\n    filteredRooms: function () {\r\n      if (this.$store.state.filter) {\r\n        // console.log(this.$store.state.filter)\r\n        return this.rooms.filter(\r\n          (room) =>\r\n            room.room_category.includes(this.$store.state.filter) ||\r\n            room.introduction.includes(this.$store.state.filter) ||\r\n            room.title.includes(this.$store.state.filter)\r\n        )\r\n      }\r\n      return this.rooms\r\n    },\r\n  },\r\n  created() {\r\n    if (this.$store.state.token && !this.$store.state.is_verify) {\r\n      this.$store.dispatch('getIsVerify').then(() => {\r\n        if (this.$store.state.is_verify == false) {\r\n          this.$router.push({\r\n            name: 'profile',\r\n          })\r\n          this.$message.error('未過 mail 認證 !')\r\n        }\r\n      })\r\n    }\r\n\r\n    if (this.$store.state.token) {\r\n      this.$store\r\n        .dispatch('refreshToken')\r\n        .then((response) => {\r\n          console.log('token:', response.data, '\\nstart to get some list:')\r\n\r\n          RoomService.getRooms()\r\n            .then((res) => {\r\n              this.rooms = res.data\r\n            })\r\n            .catch((err) => {\r\n              console.log('getRooms err :', err)\r\n            })\r\n\r\n          this.$store\r\n            .dispatch('getUserId')\r\n            .then(() => {\r\n              return RoomService.getUserDetail(this.$store.state.user_id)\r\n            })\r\n            .then((res) => {\r\n              this.user = res.data\r\n            })\r\n            .catch((err) => {\r\n              console.log('getRooms err :', err)\r\n            })\r\n\r\n          RoomService.getRoomCategory()\r\n            .then((res) => {\r\n              console.log('[Warning]: 目前有成功拿到資料但是沒有寫入', res.data)\r\n              this.sideBarList = this.imageList.map((o) => o.value)\r\n              // this.sideBarList = Object.values(res.data)\r\n            })\r\n            .catch((err) => {\r\n              console.log('getRoomCategory err :', err)\r\n            })\r\n\r\n          RoomService.getRoomType()\r\n            .then((res) => {\r\n              this.roomTypeDict = res.data\r\n            })\r\n            .catch((err) => {\r\n              console.log('getRoomType err :', err)\r\n            })\r\n\r\n          RoomService.getUserRooms()\r\n            .then((res) => {\r\n              this.userRooms = res.data\r\n            })\r\n            .catch((err) => {\r\n              console.log(err)\r\n            })\r\n          this.$emit('wsConnStart', true)\r\n        })\r\n        .catch((err) => {\r\n          console.log(\r\n            '[Home.vue.created.catch], token exist but:',\r\n            '\\nstatus code: ',\r\n            err.response.status,\r\n            '\\nerror message: ',\r\n            JSON.stringify(err.response.data)\r\n          )\r\n          if (\r\n            'code' in err.response.data &&\r\n            err.response.data['code'] == 'token_not_valid'\r\n          ) {\r\n            console.log('[Home.vue.created.catch] delete token')\r\n            this.$store.dispatch('resetToken')\r\n          }\r\n          this.$router.push({\r\n            name: 'login',\r\n          })\r\n        })\r\n    } else {\r\n      console.log('plz login !')\r\n      this.$message.error('請登入 !')\r\n      this.$router.push({\r\n        name: 'login',\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    joinRoom() {\r\n      console.log('exec join room')\r\n\r\n      if (this.$store.state.token) {\r\n        this.$store\r\n          .dispatch('refreshToken', this.event)\r\n          .then((resRefresh) => {\r\n            console.log(resRefresh.data.access)\r\n\r\n            return RoomService.postJoinRoom(\r\n              this.dialogFormRoom.id,\r\n              this.user.nickname\r\n            )\r\n          })\r\n          .then((res) => {\r\n            console.log('[Success]: 已加入房間', res.data)\r\n            this.$router.push({\r\n              name: 'room-show',\r\n              params: { id: this.dialogFormRoom.id },\r\n            })\r\n          })\r\n          .catch((err) => {\r\n            var errMsg = err.data['error']\r\n            if (errMsg == 'You are already in the room.') {\r\n              this.$router.push({\r\n                name: 'room-show',\r\n                params: { id: this.dialogFormRoom.id },\r\n              })\r\n            }\r\n            // console.log(err.data['error'])\r\n            this.$message.error(err.data['error'])\r\n          })\r\n      }\r\n    },\r\n    updateFilter(category) {\r\n      this.filter = category\r\n    },\r\n    updateClickedRoom(dic) {\r\n      let uRoomsId = this.userRooms.map((r) => r.id)\r\n      if (uRoomsId.includes(dic['clickedRoomId'])) {\r\n        this.$router.push({\r\n          name: 'room-show',\r\n          params: { id: dic['clickedRoomId'] },\r\n        })\r\n      } else {\r\n        this.dialogFormVisible = dic['dialogFormVisible']\r\n        this.dialogFormRoom = dic['dialogFormRoom']\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.item {\r\n  width: 25%;\r\n}\r\n.el-form-item > label {\r\n  line-height: 2px;\r\n}\r\n\r\n.desc {\r\n  line-height: 2px;\r\n}\r\n/* .card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.text {\r\n  font-size: 14px;\r\n}\r\n\r\n.item {\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.box-card {\r\n  width: 300px;\r\n}\r\n\r\na {\r\n  color: #05acdf;\r\n  text-decoration: none;\r\n} */\r\n</style>\r\n","<template>\r\n  <el-card :body-style=\"{ padding: '0px' }\">\r\n    <img\r\n      v-if=\"room.image_url && !imageLoadFailed\"\r\n      :src=\"room.image_url\"\r\n      class=\"image\"\r\n      @error=\"imageLoadFailed = true\"\r\n    />\r\n    <el-skeleton v-else>\r\n      <template #template>\r\n        <el-skeleton-item variant=\"image\" style=\"height: 150px\" />\r\n      </template>\r\n    </el-skeleton>\r\n    <h4>{{ room.title }}</h4>\r\n    <div>\r\n      <p>分類 :</p>\r\n      <el-tag type=\"success\">{{ getCategoryName() }}</el-tag>\r\n      <el-tag type=\"info\">{{\r\n        typeDict[room.room_type] ? typeDict[room.room_type] : room.room_type\r\n      }}</el-tag>\r\n    </div>\r\n    <div>\r\n      <p>人數限制 : {{ room.people_limit }}</p>\r\n      <p>簡介 : {{ introduction }}</p>\r\n      <div style=\"text-align: center\">\r\n        <el-button type=\"text\" @click=\"emitParent\">進入房間</el-button>\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    room: Object,\r\n    typeDict: Object,\r\n    imageList: Array,\r\n  },\r\n  computed: {\r\n    introduction: function () {\r\n      if (this.room.introduction.length > 30) {\r\n        return this.room.introduction.slice(0, 30) + '...'\r\n      }\r\n      return this.room.introduction\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      images: [\r\n        'https://i.imgur.com/kN4J0UL.jpg',\r\n        '',\r\n        'https://i.imgur.com/17SSeJb.png',\r\n        'https://i.imgur.com/85zF3RK.jpg',\r\n        'https://i.imgur.com/o2uS5WX.png',\r\n        'https://i.imgur.com/wc0HqRT.png',\r\n        'https://i.imgur.com/qdIZSWc.jpg',\r\n        'https://i.imgur.com/GOaM9dB.jpg',\r\n        'https://i.imgur.com/G65qPbl.jpg',\r\n        'https://i.imgur.com/WxiJ6K0.jpg',\r\n      ],\r\n      // dialogFormRoom: '',\r\n      dialogFormVisible: false,\r\n      imageLoadFailed: false,\r\n    }\r\n  },\r\n  methods: {\r\n    emitParent() {\r\n      this.$emit('update', {\r\n        dialogFormRoom: this.room,\r\n        dialogFormVisible: true,\r\n        clickedRoomId: this.room.id,\r\n      })\r\n    },\r\n    getCategoryName() {\r\n      let result = this.imageList.find(\r\n        (o) => o.category == this.room.room_category\r\n      )\r\n\r\n      if (result) {\r\n        return result.value\r\n      } else {\r\n        return this.room.room_category\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    dialogFormRoom: {\r\n      handler(val) {\r\n        this.$emit('update', { dialogFormRoom: val, dialogFormVisible: true })\r\n        this.dialogFormRoom = ''\r\n      },\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* .rooms-container {\r\n  display: flex;\r\n} */\r\n\r\n.image {\r\n  /* max-width: 50%; */\r\n  max-width: 100%;\r\n}\r\n.el-card div p {\r\n  margin: 6px;\r\n  font-size: 14px;\r\n  text-align: left;\r\n  line-height: 120%;\r\n}\r\n.el-card h4 {\r\n  margin: 10px;\r\n}\r\n/* .rooms-container {\r\n  position: relative;\r\n  left: 2%;\r\n} */\r\n</style>\r\n","import { render } from \"./RoomCard.vue?vue&type=template&id=0591ce70&scoped=true\"\nimport script from \"./RoomCard.vue?vue&type=script&lang=js\"\nexport * from \"./RoomCard.vue?vue&type=script&lang=js\"\n\nimport \"./RoomCard.vue?vue&type=style&index=0&id=0591ce70&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-0591ce70\"\n\nexport default script","<template>\r\n  <el-menu :default-active=\"$route.path\" class=\"SideBar\" router v-if=\"urlMode\">\r\n    <el-menu-item\r\n      v-for=\"(item, index) in sideBarList\"\r\n      :key=\"index\"\r\n      :index=\"item.url\"\r\n      :route=\"item.url\"\r\n    >\r\n      <i class=\"el-icon-menu\"></i>\r\n      <span>{{ item.text }}</span>\r\n    </el-menu-item>\r\n  </el-menu>\r\n  <el-menu v-else class=\"SideBar\">\r\n    <el-scrollbar>\r\n      <el-menu-item\r\n        v-for=\"(item, index) in sideBarList\"\r\n        :key=\"index\"\r\n        :index=\"index.toString()\"\r\n        v-on:click=\"applyFilter(item)\"\r\n      >\r\n        <i class=\"el-icon-menu\"></i>\r\n        <span>{{ item.text }}</span>\r\n      </el-menu-item>\r\n    </el-scrollbar>\r\n  </el-menu>\r\n  <!-- <el-menu :default-active=\"$route.path\" class=\"SideBar\" router>\r\n    <el-menu-item\r\n      v-for=\"(item, index) in sideBarList\"\r\n      :key=\"index\"\r\n      :index=\"item.url\"\r\n      :route=\"item.url\"\r\n    >\r\n      <i class=\"el-icon-menu\"></i>\r\n      <span>{{ item.text }}</span>\r\n    </el-menu-item>\r\n  </el-menu> -->\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['sideBarList', 'urlMode'],\r\n  // data: (url_mode = ture),\r\n  methods: {\r\n    applyFilter(item) {\r\n      // console.log(category)\r\n      if (this.$store.state.filter !== item.text) {\r\n        this.$store.state.filter = item.text\r\n      } else {\r\n        this.$store.state.filter = ''\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.SideBar {\r\n  height: 100%;\r\n  text-align: left;\r\n}\r\n.SideBar .el-menu-item span {\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n","import { render } from \"./SideBar.vue?vue&type=template&id=5fb2895b\"\nimport script from \"./SideBar.vue?vue&type=script&lang=js\"\nexport * from \"./SideBar.vue?vue&type=script&lang=js\"\n\nimport \"./SideBar.vue?vue&type=style&index=0&id=5fb2895b&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./Home.vue?vue&type=template&id=139dc7c4&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=139dc7c4&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-139dc7c4\"\n\nexport default script","<template>\r\n  <!-- id, title, introduction, create_time, valid_time, room_type, room_category,\r\n  people_limit -->\r\n\r\n  <div>\r\n    <el-container class=\"create-form\">\r\n      <el-form ref=\"form\" :model=\"room\" label-width=\"80px\" @submit.prevent>\r\n        <el-alert\r\n          title=\"您尚未登入，登入後才能建立房間。\"\r\n          type=\"warning\"\r\n          show-icon\r\n          v-if=\"!isAuth\"\r\n        >\r\n          <el-link href=\"/login\" type=\"primary\">點我登入</el-link>\r\n        </el-alert>\r\n        <h1>Create an Room</h1>\r\n        <el-form-item prop=\"title\" label=\"房間標題\" :rules=\"notNullrule\">\r\n          <el-input\r\n            v-model=\"room.title\"\r\n            placeholder=\"請填入房間標題\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"您的暱稱\" prop=\"nickname\" :rules=\"notNullrule\">\r\n          <el-input v-model=\"room.nickname\" placeholder=\"請填入暱稱\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"房間分類\" prop=\"category\" :rules=\"notNullrule\">\r\n          <el-select\r\n            v-model=\"room.category\"\r\n            placeholder=\"choose category\"\r\n            @change=\"renderUrl\"\r\n          >\r\n            <el-option\r\n              v-for=\"category in imageList\"\r\n              :label=\"category.value\"\r\n              :key=\"category.category\"\r\n              :value=\"category.category\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"關房時間\">\r\n          <el-col :span=\"11\">\r\n            <el-date-picker\r\n              type=\"date\"\r\n              placeholder=\"Choose Date\"\r\n              v-model=\"room.date1\"\r\n              style=\"width: 100%\"\r\n            ></el-date-picker>\r\n          </el-col>\r\n          <el-col class=\"line\" :span=\"2\">-</el-col>\r\n          <el-col :span=\"11\">\r\n            <el-time-picker\r\n              placeholder=\"Choose Time\"\r\n              v-model=\"room.date2\"\r\n              style=\"width: 100%\"\r\n            ></el-time-picker>\r\n          </el-col>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"允許邀請\">\r\n          <el-switch v-model=\"room.invite\"></el-switch>\r\n        </el-form-item> \r\n        <el-form-item label=\"Tag\">\r\n          <el-checkbox-group v-model=\"room.tag\">\r\n            <el-checkbox label=\"吃\" name=\"type\"></el-checkbox>\r\n            <el-checkbox label=\"衣服\" name=\"type\"></el-checkbox>\r\n          </el-checkbox-group>\r\n        </el-form-item>-->\r\n        <el-form-item label=\"房間類型\">\r\n          <el-radio-group v-model=\"room.type\">\r\n            <el-radio\r\n              v-for=\"(item, key) in roomTypeDict\"\r\n              :label=\"key\"\r\n              :key=\"key\"\r\n            >\r\n              {{ item }}\r\n            </el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"最大人數\" @submit.prevent>\r\n          <el-slider v-model=\"room.capacity\" show-input :max=\"100\" :step=\"5\">\r\n          </el-slider>\r\n        </el-form-item>\r\n        <el-form-item prop=\"description\" :rules=\"notNullrule\">\r\n          <template #label>\r\n            <span>簡介</span>\r\n          </template>\r\n          <el-input\r\n            type=\"textarea\"\r\n            placeholder=\"Enter description of your room:\"\r\n            v-model=\"room.description\"\r\n            maxlength=\"100\"\r\n            show-word-limit\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"封面照片\">\r\n          <el-autocomplete\r\n            class=\"inline-input\"\r\n            v-model=\"selectedImageCate\"\r\n            :fetch-suggestions=\"querySearch\"\r\n            placeholder=\"請輸入內容\"\r\n            @select=\"handleSelect\"\r\n          ></el-autocomplete>\r\n          <el-input\r\n            v-model=\"room.image_url\"\r\n            placeholder=\"可放可不放，建議上傳 imgur 並複製圖片網址(.jpg 或 .png 結尾)\"\r\n            clearable\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"createRoom\" :loading=\"loading\"\r\n            >Create Room</el-button\r\n          >\r\n          <!-- @submit.prevent=\"createEvent\" -->\r\n          <el-button>Cancel</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RoomService from '@/services/RoomService.js'\r\nimport { mapGetters } from 'vuex'\r\n// import { ElMessage } from 'element-plus'\r\n\r\nexport default {\r\n  components: null,\r\n  data() {\r\n    const categoryDict = { course: '課程討論', find_group: '尋求組隊' }\r\n    const roomTypeDict = {\r\n      public: '公開',\r\n      private: '私人',\r\n      lesson: '課程',\r\n    }\r\n    const imageList = [\r\n      {\r\n        value: '自定義',\r\n        url: '',\r\n        category: '',\r\n      },\r\n      {\r\n        value: '課程討論',\r\n        url: 'https://i.imgur.com/GIiSOLM.jpg',\r\n        category: 'course',\r\n      },\r\n      {\r\n        value: '吃飯',\r\n        url: 'https://i.imgur.com/kN4J0UL.jpg',\r\n        category: 'eating',\r\n      },\r\n      {\r\n        value: '爬山',\r\n        url: 'https://i.imgur.com/17SSeJb.png',\r\n        category: 'hiking',\r\n      },\r\n      {\r\n        value: '打籃球',\r\n        url: 'https://i.imgur.com/o2uS5WX.png',\r\n        category: 'baseketball',\r\n      },\r\n      {\r\n        value: '打 Apex',\r\n        url: 'https://i.imgur.com/PkZu9rV.jpg',\r\n        category: 'apex',\r\n      },\r\n      {\r\n        value: '玩 Switch 遊戲',\r\n        url: 'https://i.imgur.com/16C4zzd.png',\r\n        category: 'switch',\r\n      },\r\n      {\r\n        value: '跑步',\r\n        url: 'https://i.imgur.com/wc0HqRT.png',\r\n        category: 'running',\r\n      },\r\n      {\r\n        value: '團購',\r\n        url: 'https://i.imgur.com/hcP3JA2.png',\r\n        category: 'group_buying',\r\n      },\r\n      {\r\n        value: '逛街',\r\n        url: 'https://i.imgur.com/85zF3RK.jpg',\r\n        category: 'shopping',\r\n      },\r\n      {\r\n        value: '打遊戲',\r\n        url: 'https://i.imgur.com/ex5uIMF.jpg',\r\n        category: 'game',\r\n      },\r\n      {\r\n        value: '買衣服',\r\n        url: 'https://i.imgur.com/UElotjt.jpg',\r\n        category: 'clothing',\r\n      },\r\n      {\r\n        value: '麥當勞',\r\n        url: 'https://i.imgur.com/Ll9w1eq.png',\r\n        category: 'mc',\r\n      },\r\n      {\r\n        value: '肯德基',\r\n        url: 'https://i.imgur.com/NBt3Xka.jpg',\r\n        category: 'kfc',\r\n      },\r\n      {\r\n        value: '看電影',\r\n        url: 'https://i.imgur.com/QzZKggo.png',\r\n        category: 'moive',\r\n      },\r\n      {\r\n        value: '演唱會',\r\n        url: 'https://i.imgur.com/NBt3Xka.jpg',\r\n        category: 'live',\r\n      },\r\n      {\r\n        value: '打桌球',\r\n        url: 'https://i.imgur.com/kluQV3e.jpg',\r\n        category: 'tabletennis',\r\n      },\r\n      {\r\n        value: '讀書',\r\n        url: 'https://i.imgur.com/jneYUkV.jpg',\r\n        category: 'study',\r\n      },\r\n      {\r\n        value: '讀書會',\r\n        url: 'https://i.imgur.com/rM3O9xh.png',\r\n        category: 'studyclub',\r\n      },\r\n      {\r\n        value: '看比賽',\r\n        url: 'https://i.imgur.com/Yya0Www.png',\r\n        category: 'race',\r\n      },\r\n    ]\r\n    const querySearch = (queryString, cb) => {\r\n      //let imageValues = imageList.map((i) => ({ value: i.value }))\r\n      var results = queryString\r\n        ? imageList.filter(createFilter(queryString))\r\n        : imageList\r\n      // 调用 callback 返回建议列表的数据\r\n      console.log('results:', results)\r\n\r\n      cb(results)\r\n    }\r\n    const createFilter = (queryString) => {\r\n      return (imageValues) => {\r\n        return (\r\n          imageValues.value.toLowerCase().indexOf(queryString.toLowerCase()) ===\r\n          0\r\n        )\r\n      }\r\n    }\r\n    const handleSelect = (item) => {\r\n      this.room.image_url = item.url\r\n    }\r\n    const renderUrl = (selected) => {\r\n      let selectedCategory = this.imageList.find(\r\n        (el) => el.category == selected\r\n      )\r\n      if (selectedCategory) {\r\n        this.room.image_url = selectedCategory.url\r\n        this.selectedImageCate = selectedCategory.value\r\n      }\r\n    }\r\n    return {\r\n      categoryDict,\r\n      roomTypeDict,\r\n      imageList,\r\n      querySearch,\r\n      createFilter,\r\n      handleSelect,\r\n      renderUrl,\r\n      loading: false,\r\n      selectedImageCate: '',\r\n      notNullrule: { required: true, message: '不能為空', trigger: 'blur' },\r\n      room: {\r\n        title: '',\r\n        nickname: '房主',\r\n        capacity: 10,\r\n        category: '',\r\n        date1: new Date(),\r\n        date2: new Date(new Date().setHours(23, 59, 59)),\r\n        invite: false,\r\n        tag: [],\r\n        type: 'public',\r\n        description: '',\r\n        image_url: '',\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    if (!this.$store.state.token) {\r\n      console.log('plz login !')\r\n      this.$router.push({\r\n        name: 'login',\r\n      })\r\n    }\r\n    if (this.$store.state.token && !this.$store.state.is_verify) {\r\n      this.$store.dispatch('getIsVerify').then(() => {\r\n        if (this.$store.state.is_verify == false) {\r\n          this.$router.push({\r\n            name: 'profile',\r\n          })\r\n          this.$message.error('未過 mail 認證 !')\r\n        }\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    hardcreateRoom() {\r\n      if (this.$store.state.token) {\r\n        this.$store\r\n          .dispatch('refreshToken')\r\n          .then((resRefresh) => {\r\n            console.log('resRefresh token:', resRefresh.data)\r\n            this.loading = true\r\n            return RoomService.postRoom(this.room)\r\n          })\r\n          .then((res) => {\r\n            if (res.status == 201) {\r\n              console.log(res.statusText)\r\n            }\r\n            this.$message.success(res.statusText)\r\n            this.loading = false\r\n          })\r\n          .catch((err) => {\r\n            console.log('[Warning ! 401 401 401 !]')\r\n\r\n            this.loading = false\r\n            console.log(\r\n              '[RoomCreate.vue.created.catch], token exist but:',\r\n              '\\nstatus code: ',\r\n              err.response.status,\r\n              '\\nerror message: ',\r\n              JSON.stringify(err.response.data)\r\n            )\r\n            if (\r\n              'code' in err.response.data &&\r\n              err.response.data['code'] == 'token_not_valid'\r\n            ) {\r\n              console.log('[RoomCreate.vue.createRoom.catch] delete token')\r\n              this.$store.dispatch('resetToken')\r\n              this.$router.push({\r\n                name: 'login',\r\n              })\r\n            }\r\n            this.$message.error(JSON.stringify(err.response.data))\r\n          })\r\n      } else {\r\n        console.log('plz login !')\r\n        // window.location.href = '/login'\r\n        this.$router.push({\r\n          name: 'login',\r\n        })\r\n      }\r\n\r\n      // this.$store\r\n      //   .dispatch('createEvent', this.event)\r\n      //   .then(() => {\r\n      //     this.$router.push({\r\n      //       name: 'event-show',\r\n      //       params: { id: this.event.id },\r\n      //     })\r\n      //     this.event = this.createFreshEventObject()\r\n      //   })\r\n      //   .catch(() => {\r\n      //     console.log('There was a problem creating your event')\r\n      //   })\r\n    },\r\n    createRoom() {\r\n      if (this.$store.state.token) {\r\n        return this.$store\r\n          .dispatch('refreshToken')\r\n          .then((res) => {\r\n            if (res.status != 200) {\r\n              return Promise.reject('refresh token err')\r\n            }\r\n            this.loading = true\r\n            return RoomService.postRoom(this.room)\r\n          })\r\n          .then((res) => {\r\n            console.log('res in CreateRoom:', res)\r\n            this.$message.success(res.statusText)\r\n            this.loading = false\r\n            this.$router.push({\r\n              name: 'room-show',\r\n              params: { id: res.data.id },\r\n            })\r\n          })\r\n          .catch((err) => {\r\n            console.log('err in CreateRoom:', err.data, Object.keys(err.data))\r\n            for (let [key, val] of Object.entries(err.data)) {\r\n              this.$message.error(key + ': ' + val[0])\r\n            }\r\n            this.loading = false\r\n          })\r\n      } else {\r\n        console.log('plz login !')\r\n        this.$router.push({\r\n          name: 'login',\r\n        })\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters(['isAuth']),\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.create-form {\r\n  justify-content: center;\r\n}\r\n</style>\r\n","import { render } from \"./RoomCreate.vue?vue&type=template&id=5f43c837&scoped=true\"\nimport script from \"./RoomCreate.vue?vue&type=script&lang=js\"\nexport * from \"./RoomCreate.vue?vue&type=script&lang=js\"\n\nimport \"./RoomCreate.vue?vue&type=style&index=0&id=5f43c837&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-5f43c837\"\n\nexport default script","<template>\r\n  <el-container class=\"mainContainer\">\r\n    <el-aside class=\"SideBarContainer\"\r\n      ><SideBar\r\n        :sideBarList=\"\r\n          userRooms.map((r) => ({ text: r.title, url: '/room/' + r.id + '/' }))\r\n        \"\r\n        :urlMode=\"true\"\r\n    /></el-aside>\r\n    <el-main class=\"chatRoomContainer\">\r\n      <ChatRoom\r\n        :roomws=\"roomws\"\r\n        :messages=\"messages\"\r\n        v-on:addMessage=\"addMessage\"\r\n      />\r\n    </el-main>\r\n    <el-aside class=\"roomInfo\">\r\n      <el-scrollbar>\r\n        <h5 class=\"title\">{{ room.title }}</h5>\r\n        <el-divider></el-divider>\r\n        <div>\r\n          <h5>房主</h5>\r\n          <p>{{ host ? host : '' }}</p>\r\n        </div>\r\n        <el-divider></el-divider>\r\n        <div>\r\n          <h5>房間開放時間</h5>\r\n          <p>\r\n            {{ !room.create_time ? '未指定' : room.create_time.slice(0, 10) }}\r\n            {{ !room.create_time ? '' : room.create_time.slice(11, 19) }}\r\n            ~<br />\r\n            {{ !room.valid_time ? '未指定' : room.valid_time.slice(0, 10) }}\r\n            {{ !room.valid_time ? '' : room.valid_time.slice(11, 19) }}\r\n          </p>\r\n        </div>\r\n        <el-divider></el-divider>\r\n        <div>\r\n          <h5>\r\n            房間簡介<i\r\n              class=\"el-icon-edit el-input__icon\"\r\n              @click=\"dialogFormVisible = true\"\r\n            ></i>\r\n          </h5>\r\n          <p>{{ room.introduction }}</p>\r\n        </div>\r\n        <el-divider></el-divider>\r\n        <div>\r\n          <h5>分類</h5>\r\n          <el-button size=\"mini\" round>{{ room.room_category }}</el-button>\r\n        </div>\r\n        <el-divider></el-divider>\r\n        <div>\r\n          <h5>\r\n            成員列表<i\r\n              class=\"el-icon-edit el-input__icon\"\r\n              @click=\"memberFormVisible = true\"\r\n            ></i>\r\n          </h5>\r\n          <div\r\n            class=\"member\"\r\n            v-for=\"userObj in memberList\"\r\n            :key=\"userObj.member_id\"\r\n          >\r\n            <el-avatar size=\"small\" icon=\"el-icon-user-solid\"></el-avatar>\r\n            <p class=\"username\">{{ userObj.nickname }}</p>\r\n          </div>\r\n        </div>\r\n        <el-divider></el-divider>\r\n        <div>\r\n          <h5>\r\n            限制人數\r\n            <i class=\"el-icon-edit el-input__icon\" @click=\"handleIconClick\"></i>\r\n          </h5>\r\n          <p>{{ room.room_type == 'lesson' ? '無限制' : room.people_limit }}</p>\r\n        </div>\r\n        <el-divider></el-divider>\r\n        <div>\r\n          <h5>測試 input</h5>\r\n          <el-input placeholder=\"請輸入內容\" clearable>\r\n            <template #suffix>\r\n              <i class=\"el-icon-edit el-input__icon\" @click=\"handleIconClick\">\r\n              </i>\r\n            </template>\r\n          </el-input>\r\n        </div>\r\n        <el-divider></el-divider>\r\n        <div>\r\n          <h5>離開房間</h5>\r\n          <el-popconfirm\r\n            confirmButtonText=\"離開\"\r\n            confirmButtonType=\"danger\"\r\n            cancelButtonText=\"取消\"\r\n            icon=\"el-icon-info\"\r\n            iconColor=\"red\"\r\n            title=\"確定離開 ? 離開後將不會是成員。若您是'房主'會直接刪除房間。\"\r\n            @confirm=\"handleExitRoom\"\r\n          >\r\n            <template #reference>\r\n              <el-button type=\"danger\" round>離開房間</el-button>\r\n            </template>\r\n          </el-popconfirm>\r\n        </div>\r\n      </el-scrollbar>\r\n    </el-aside>\r\n  </el-container>\r\n  <el-dialog title=\"編輯房間\" v-model=\"dialogFormVisible\" v-if=\"isAdmin\">\r\n    <el-form :model=\"dialogFormRoom\">\r\n      <el-form-item label=\"房間名稱\">\r\n        <el-input v-model=\"dialogFormRoom.title\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"房間 Category\">\r\n        <el-select\r\n          v-model=\"dialogFormRoom.room_category\"\r\n          placeholder=\"選擇房間分類\"\r\n        >\r\n          <el-option\r\n            v-for=\"(item, key) in categoryDict\"\r\n            :label=\"item\"\r\n            :key=\"item\"\r\n            :value=\"key\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"簡介\">\r\n        <el-input\r\n          type=\"textarea\"\r\n          placeholder=\"Enter description of your room:\"\r\n          v-model=\"dialogFormRoom.introduction\"\r\n          maxlength=\"100\"\r\n          show-word-limit\r\n        >\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item @submit.prevent>\r\n        <span>最大人數</span>\r\n        <el-slider\r\n          v-model=\"dialogFormRoom.people_limit\"\r\n          show-input\r\n          :max=\"100\"\r\n          :step=\"5\"\r\n          input-size=\"mini\"\r\n        >\r\n        </el-slider>\r\n      </el-form-item>\r\n    </el-form>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取消</el-button>\r\n        <el-button\r\n          type=\"primary\"\r\n          @click=\";[(handleEditRoom(), (dialogFormVisible = false))]\"\r\n          >送出</el-button\r\n        >\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n  <el-dialog v-model=\"memberFormVisible\">\r\n    <h3>成員列表</h3>\r\n    <el-table :data=\"memberList\" style=\"width: 100%\">\r\n      <el-table-column type=\"expand\">\r\n        <template #default=\"props\">\r\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n            <el-form-item label=\"學號\">\r\n              <span>{{ props.row.username }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"暱稱\">\r\n              <span>{{ props.row.nickname }}</span>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"操作\"\r\n              v-if=\"\r\n                isAdmin &&\r\n                user.member_id != props.row.member_id &&\r\n                props.row.member_id !=\r\n                  memberList.find((m) => m.access_level == 'admin').member_id\r\n              \"\r\n            >\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"warning\"\r\n                plain\r\n                @click=\"\r\n                  handleMemberOperation(props.$index, props.row, 'remove')\r\n                \"\r\n                >踢出房間</el-button\r\n              >\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                @click=\"handleMemberOperation(props.$index, props.row, 'block')\"\r\n                >封鎖</el-button\r\n              >\r\n              <el-popconfirm\r\n                confirmButtonText=\"確認\"\r\n                cancelButtonText=\"取消\"\r\n                icon=\"el-icon-info\"\r\n                iconColor=\"red\"\r\n                title=\"確定轉移房主身分給他 ? 您將降級為無權限用戶。\"\r\n                @confirm=\"handleTransferAdmin(props.row)\"\r\n              >\r\n                <template #reference>\r\n                  <el-button size=\"mini\" type=\"danger\" plain\r\n                    >將房主轉移給他</el-button\r\n                  >\r\n                </template>\r\n              </el-popconfirm>\r\n            </el-form-item>\r\n            <el-form-item\r\n              label=\"更改階級成:\"\r\n              v-if=\"\r\n                isAdmin &&\r\n                user.member_id != props.row.member_id &&\r\n                props.row.member_id !=\r\n                  memberList.find((m) => m.access_level == 'admin').member_id\r\n              \"\r\n            >\r\n              <el-select\r\n                v-model=\"tmp\"\r\n                @change=\"handleSetLevel($event, props.row.member_id)\"\r\n              >\r\n                <el-option\r\n                  v-for=\"(val, key) in { manager: '房管', user: '普通用戶' }\"\r\n                  :key=\"key\"\r\n                  :label=\"val\"\r\n                  :value=\"key\"\r\n                >\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"學號\" prop=\"username\"> </el-table-column>\r\n      <el-table-column label=\"暱稱\" prop=\"nickname\"></el-table-column>\r\n      <el-table-column label=\"階級\" prop=\"access_level\"></el-table-column>\r\n    </el-table>\r\n    <h3>Block 列表</h3>\r\n    <el-table :data=\"blockList\" style=\"width: 100%\">\r\n      <el-table-column type=\"expand\">\r\n        <template #default=\"props\">\r\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n            <el-form-item label=\"操作者\">\r\n              <span>{{\r\n                memberList.filter(\r\n                  (m) => m.member_id == props.row.block_manager_id\r\n                )[0].nickname +\r\n                '(' +\r\n                props.row.manager_username +\r\n                ')'\r\n              }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"操作\" v-if=\"isAdmin\">\r\n              <el-popconfirm\r\n                confirmButtonText=\"確認\"\r\n                cancelButtonText=\"取消\"\r\n                icon=\"el-icon-info\"\r\n                iconColor=\"red\"\r\n                title=\"確定解除封鎖 ?\"\r\n                @confirm=\"handleUnblockOperation(props.row)\"\r\n              >\r\n                <template #reference>\r\n                  <el-button size=\"mini\" type=\"danger\">解除封鎖</el-button>\r\n                </template>\r\n              </el-popconfirm>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"user_username\" label=\"學號\"> </el-table-column>\r\n      <el-table-column prop=\"reason\" label=\"原因\"></el-table-column>\r\n    </el-table>\r\n    <h3>邀請列表</h3>\r\n    <el-form :inline=\"true\" class=\"demo-form-inline\">\r\n      <el-form-item label=\"請輸入欲邀請學號\">\r\n        <el-input v-model=\"invitedUserId\" placeholder=\"學號\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"handleInvitation\">邀請</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-table :data=\"invitationList\" style=\"width: 100%\">\r\n      <!-- <el-table-column type=\"expand\">\r\n        <template #default=\"props\">\r\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n            <el-form-item label=\"操作\" v-if=\"isAdmin\">\r\n              <el-popconfirm\r\n                confirmButtonText=\"確認\"\r\n                cancelButtonText=\"取消\"\r\n                icon=\"el-icon-info\"\r\n                iconColor=\"red\"\r\n                title=\"確定取消邀請 ?\"\r\n                @confirm=\"handleCancelInvitation(props.row)\"\r\n              >\r\n                <template #reference>\r\n                  <el-button size=\"mini\" type=\"danger\">取消邀請</el-button>\r\n                </template>\r\n              </el-popconfirm>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-table-column> -->\r\n      <el-table-column\r\n        prop=\"invited_username\"\r\n        label=\"被邀請者\"\r\n      ></el-table-column>\r\n      <el-table-column prop=\"inviter_username\" label=\"邀請者\"></el-table-column>\r\n    </el-table>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"memberFormVisible = false\"\r\n          >關閉</el-button\r\n        >\r\n      </span>\r\n    </template>\r\n    <h3>Room Record</h3>\r\n    <div>\r\n      <span\r\n        v-for=\"rec in roomRecord.slice(\r\n          roomRecord.length - 5,\r\n          roomRecord.length\r\n        )\"\r\n        :key=\"rec\"\r\n        >{{ rec.recording }}<br\r\n      /></span>\r\n    </div>\r\n  </el-dialog>\r\n  <el-dialog\r\n    title=\"提示\"\r\n    v-model=\"removeDialog.visible\"\r\n    width=\"30%\"\r\n    :before-close=\"handleClose\"\r\n  >\r\n    <el-result\r\n      icon=\"warning\"\r\n      :title=\"removeDialog.title\"\r\n      :subTitle=\"removeDialog.subTitle\"\r\n    >\r\n      <template #extra>\r\n        <el-button type=\"primary\" size=\"medium\">返回</el-button>\r\n      </template>\r\n    </el-result>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\"> </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport RoomService from '@/services/RoomService.js'\r\nimport SideBar from '@/components/SideBar.vue'\r\nimport ChatRoom from '@/components/ChatRoom.vue'\r\nimport WsService from '@/services/WebsocketService.js'\r\n\r\nexport default {\r\n  props: ['id'],\r\n  components: {\r\n    SideBar,\r\n    ChatRoom,\r\n  },\r\n  data() {\r\n    return {\r\n      exist_btn_text: '離開房間',\r\n      tmp: '',\r\n      invitedUserId: '',\r\n      user: {\r\n        access_level: 'user',\r\n      },\r\n      memberList: [],\r\n      invitationList: [],\r\n      blockList: [],\r\n      categoryDict: {},\r\n      userRooms: [],\r\n      levelDict: { admin: '房主', manager: '房管', user: '普通用戶' },\r\n      host: '',\r\n      roomRecord: '',\r\n      dialogFormVisible: false,\r\n      isAdmin: false,\r\n      room: {\r\n        id: 0,\r\n        title: 'Loading Not Successful',\r\n        introduction: 'Loading Not Successful',\r\n        create_time: '2000-01-01T20:33:33.033448+08:00',\r\n        valid_time: '2000-01-01T20:33:33.033448+08:00',\r\n        room_type: 'private',\r\n        room_category: 'course',\r\n        people_limit: 1,\r\n      },\r\n      tableData: [\r\n        {\r\n          date: '2010-01-01',\r\n          name: '',\r\n          address: '',\r\n        },\r\n      ],\r\n      dialogFormRoom: {},\r\n      memberFormVisible: false,\r\n      roomws: {},\r\n      messages: [],\r\n      removeDialog: { visible: false, title: '', subTitle: '' },\r\n    }\r\n  },\r\n  async created() {\r\n    if (this.$store.state.token && !this.$store.state.is_verify) {\r\n      this.$store.dispatch('getIsVerify').then(() => {\r\n        console.log('未過 mail 認證 !')\r\n        if (this.$store.state.is_verify == false) {\r\n          this.$router.push({\r\n            name: 'profile',\r\n          })\r\n          this.$message.error('未過 mail 認證 !')\r\n        }\r\n      })\r\n    }\r\n\r\n    if (this.$store.state.token) {\r\n      this.$store\r\n        .dispatch('refreshToken')\r\n        .then((resRefresh) => {\r\n          console.log(resRefresh)\r\n          return this.getUserRooms()\r\n        })\r\n        .then((res) => {\r\n          if (res.data.map((ro) => ro.id).includes(Number(this.id))) {\r\n            this.userRooms = res.data\r\n            return this.init_list()\r\n          } else {\r\n            this.$message.error('你怎麼進來的 = =')\r\n            this.removeDialog.title = '您將被導向首頁'\r\n            this.removeDialog.subTitle = '原因: 房間不存在/您無權限訪問'\r\n            this.removeDialog.visible = true\r\n            setTimeout(() => {\r\n              this.$router.push({\r\n                name: 'home',\r\n              })\r\n            }, 2000)\r\n            return Promise.reject('user not in room !')\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          // if refresh token is invalid, it will trigger 401 and redirect to Login auto.\r\n          // so here we don't need to handle it.\r\n          console.log(err)\r\n        })\r\n    } else {\r\n      this.$message.error('請登入 !')\r\n      this.$router.push({\r\n        name: 'login',\r\n      })\r\n    }\r\n    //---------------------websocket-------------------------------\r\n\r\n    if (this.roomws[parseInt(this.$route.params.id, 10)] == null) {\r\n      console.log('this.roomws[this.$route.params.id] == null')\r\n      let nowRoomID = parseInt(this.$route.params.id, 10)\r\n      this.roomws[nowRoomID] = WsService.InitRoomWebsocket(\r\n        this.$store.state.token,\r\n        this.$route.params.id\r\n      ) //初始化\r\n      console.log(this.roomws[nowRoomID])\r\n\r\n      this.roomws[nowRoomID].onmessage = (event) => {\r\n        //console.log(event.data)\r\n\r\n        let res = JSON.parse(event.data) //訊息的data\r\n        let showtime = null\r\n        console.log('[Websocket event.data]:', event.data)\r\n        // console.log(res.roomID) //送到的room ID\r\n        // console.log(res.message) //我們要update廣播的message\r\n        // console.log(res.time) //送出這個訊息的時間\r\n\r\n        //-------按照header判斷訊息種類---------\r\n        // message = [ 'memberList', 'invitationList', 'blockList', 'RoomProfile' ...  ]\r\n        switch (res.header) {\r\n          case 'message': //-----正常傳訊息會是這個header-------\r\n            // console.log(res.userID, res.roomID, res.nickname, res.message)\r\n            showtime = new Date(res.time) //5.訊息的時間 用js就能Parse出來了\r\n            var hour = showtime.getHours()\r\n            var minute = showtime.getMinutes()\r\n            hour = String(hour).padStart(2, '0')\r\n            minute = String(minute).padStart(2, '0')\r\n            var currentTime = `${hour}:${minute}`\r\n            var newMessage = {\r\n              user: res.userID,\r\n              text: res.message,\r\n              time: currentTime,\r\n            }\r\n            this.messages.push(newMessage)\r\n            //--------------以上可以自由運用----------------------\r\n            /* 這邊原本是要顯示訊息的code，但我不會Element UI跟Vue的高端寫法，只好交給前端去做\r\n            console.log(this.$store.state.user_id)\r\n            if (res.userId != this.$store.state.user_id) {\r\n              this.messages.push({\r\n                id: res.userID,\r\n                user: res.username,\r\n                time: String(showtime.getHours()) + String(showtime.getMinutes()),\r\n                text: res.message,\r\n              })\r\n            }\r\n            */\r\n            break\r\n          case 'remove':\r\n            if (res.message === 'Removed') {\r\n              console.log('ws case : remove')\r\n\r\n              let msgObj = {\r\n                header: 'controlMessage', // Message 的 header,正常message的header就叫message\r\n                msg_type: 'text', // Message 的 type,因為當初本來有考慮要送圖片 但現在沒有,所以type是text\r\n                userID: this.$store.state.user_id, //送這個message的user ID, 一開始就有存在store裡面\r\n                roomID: parseInt(this.$route.params.id, 10), // 目前的roomID,用route參數的ID來判斷\r\n                message: 'Close', //文字訊息\r\n                token: this.$store.state.token, //Request 都必需附上token\r\n              }\r\n              this.roomws[nowRoomID].send(JSON.stringify(msgObj))\r\n\r\n              //------------------------------------------\r\n              //Then Close Room Handle or Trigger\r\n              this.removeDialog.title = '您將被導向首頁'\r\n              this.removeDialog.subTitle = '原因: 您被移出成員列表。'\r\n              this.removeDialog.visible = true\r\n              setTimeout(() => {\r\n                this.$router.push({\r\n                  name: 'home',\r\n                })\r\n              }, 3000)\r\n            }\r\n            break\r\n          case 'update':\r\n            if (res.message.includes('member_list')) {\r\n              this.getMemberList()\r\n                .then((res) => {\r\n                  this.memberList = res.data\r\n                  this.host = res.data.filter(\r\n                    (user) => user.access_level == 'admin'\r\n                  )[0].nickname\r\n                  if (!res.data.filter((m) => m.member_id)) {\r\n                    console.log('you are not in room QQ')\r\n                  }\r\n                })\r\n                .catch((err) => {\r\n                  console.log(err.data)\r\n                })\r\n            }\r\n            if (res.message.includes('block_list')) {\r\n              this.getBlockList()\r\n                .then((res) => {\r\n                  this.blockList = res.data\r\n                  console.log('blockList:', res.data)\r\n                })\r\n                .catch((err) => {\r\n                  console.log(err.data)\r\n                })\r\n            }\r\n            if (res.message.includes('invite_list')) {\r\n              this.getInvitationList()\r\n                .then((res) => {\r\n                  this.invitationList = res.data\r\n                  console.log('invitationList', res.data)\r\n                })\r\n                .catch((err) => {\r\n                  console.log(err.data)\r\n                })\r\n            }\r\n            if (res.message.includes('profile')) {\r\n              this.getRoomObj()\r\n                .then((res) => {\r\n                  this.room = res\r\n                  this.dialogFormRoom = { ...res }\r\n                  console.log(res)\r\n                })\r\n                .catch((err) => {\r\n                  console.log(err)\r\n                })\r\n            }\r\n\r\n            if (res.message === 'delete_room') {\r\n              // = if (res.message.includes('delete_room'))\r\n              let msgObj = {\r\n                header: 'controlMessage', // Message 的 header,正常message的header就叫message\r\n                msg_type: 'text', // Message 的 type,因為當初本來有考慮要送圖片 但現在沒有,所以type是text\r\n                userID: this.$store.state.user_id, //送這個message的user ID, 一開始就有存在store裡面\r\n                roomID: parseInt(this.$route.params.id, 10), // 目前的roomID,用route參數的ID來判斷\r\n                message: 'Close', //文字訊息\r\n                token: this.$store.state.token, //Request 都必需附上token\r\n              }\r\n              this.roomws[nowRoomID].send(JSON.stringify(msgObj))\r\n              //----------------Then Close Room Handle or Trigger --------------------------\r\n              this.removeDialog.title = '您將被導向首頁'\r\n              this.removeDialog.subTitle = '原因: 房主關閉了房間。'\r\n              this.removeDialog.visible = true\r\n              setTimeout(() => {\r\n                this.$router.push({\r\n                  name: 'home',\r\n                })\r\n              }, 3000)\r\n            }\r\n            break\r\n          case 'ping': //也是確認websocket還有沒有活著的部份\r\n            if (this.$route.fullPath != '/room/' + nowRoomID) {\r\n              this.roomws[nowRoomID].close()\r\n            }\r\n            break\r\n        }\r\n      }\r\n    }\r\n\r\n    //--------------------websocket-------------------------------\r\n  },\r\n  methods: {\r\n    init_list() {\r\n      this.getRoomObj()\r\n        .then((res) => {\r\n          this.room = res\r\n          this.dialogFormRoom = { ...res }\r\n          console.log(res)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n\r\n      this.getInvitationList()\r\n        .then((res) => {\r\n          this.invitationList = res.data\r\n          console.log('invitationList', res.data)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.data)\r\n        })\r\n\r\n      this.getMemberList()\r\n        .then((res) => {\r\n          this.memberList = res.data\r\n          this.host = res.data.filter(\r\n            (user) => user.access_level == 'admin'\r\n          )[0].nickname\r\n          console.log('memberList: ', res.data)\r\n          return this.getUserObj()\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.data)\r\n        })\r\n\r\n      this.getBlockList()\r\n        .then((res) => {\r\n          this.blockList = res.data\r\n          console.log('blockList:', res.data)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.data)\r\n        })\r\n\r\n      this.getInvitationList()\r\n        .then((res) => {\r\n          this.invitationList = res.data\r\n          console.log('invitationList:', res.data)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.data)\r\n        })\r\n\r\n      this.getRoomRecord()\r\n        .then((res) => {\r\n          this.roomRecord = res.data\r\n          console.log('roomRecord:', res.data)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.data)\r\n        })\r\n\r\n      this.getRoomCategory()\r\n        .then((res) => {\r\n          this.categoryDict = res.data\r\n          console.log('categoryDict:', res.data)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.data)\r\n        })\r\n    },\r\n    getUserObj() {\r\n      RoomService.getUserId()\r\n        .then((res) => {\r\n          let userId = res.data.id\r\n          let userObj = this.memberList.filter((m) => m.member_id == userId)[0]\r\n          if (userObj) {\r\n            this.user = userObj\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          return Promise.reject(err)\r\n        })\r\n    },\r\n    getRoomObj() {\r\n      return new Promise((resolve, reject) => {\r\n        RoomService.getRoom(this.id)\r\n          .then((response) => {\r\n            resolve(response.data)\r\n          })\r\n          .catch((error) => {\r\n            console.log('There was an error:', JSON.stringify(error.response))\r\n            reject(error.data) //\r\n          })\r\n      })\r\n    },\r\n    getMemberList() {\r\n      return RoomService.getRoomMemberList(this.id)\r\n    },\r\n    getBlockList() {\r\n      return RoomService.getRoomBlockList(this.id)\r\n    },\r\n    getInvitationList() {\r\n      return RoomService.getRoomInvitationList(this.id)\r\n    },\r\n    getRoomRecord() {\r\n      return RoomService.getRoomRecord(this.id)\r\n    },\r\n    getRoomCategory() {\r\n      return RoomService.getRoomCategory()\r\n    },\r\n    getUserRooms() {\r\n      return RoomService.getUserRooms()\r\n    },\r\n    handleEditRoom() {\r\n      RoomService.putRoom(this.id, this.dialogFormRoom)\r\n        .then((res) => {\r\n          console.log('[Success] 成功修改房間，成果:', res.data)\r\n          this.room = res.data\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    handleExitRoom() {\r\n      if (this.user.access_level == 'admin') {\r\n        RoomService.deleteRoom(this.id).catch((err) => {\r\n          this.$message.error(err.data.error)\r\n        })\r\n      } else {\r\n        RoomService.deleteLeaveRoom(this.id).catch((err) => {\r\n          this.$message.error(err.data.error)\r\n        })\r\n      }\r\n\r\n      this.$router.push({\r\n        name: 'home',\r\n      })\r\n      return\r\n    },\r\n    handleInvitation() {\r\n      RoomService.postRoomInvite(this.id, this.invitedUserId)\r\n        .then(() => {\r\n          console.log('postRoomInvite Successful')\r\n          return this.getInvitationList()\r\n        })\r\n        .then((res) => {\r\n          this.invitationList = res.data\r\n        })\r\n        .catch((err) => {\r\n          this.$message.error(err.data.error)\r\n        })\r\n    },\r\n    handleCancelInvitation(row) {\r\n      console.log(row.invited_id)\r\n    },\r\n    handleSetLevel(newLevel, userId) {\r\n      RoomService.putSetLevel(this.id, { [userId]: newLevel })\r\n        .then(() => {\r\n          return this.getMemberList()\r\n        })\r\n        .then((res) => {\r\n          this.memberList = res.data\r\n          console.log('[Success]', userId, '的階級改成', newLevel)\r\n          this.$message.success('修改階級成功 !')\r\n        })\r\n        .catch((err) => {\r\n          this.$message.error('handleSetLevel:', err.data.error)\r\n        })\r\n    },\r\n    handleAddModerator(row) {\r\n      let parameter = {}\r\n      parameter[row.member_id] = ''\r\n      console.log(parameter)\r\n    },\r\n    handleTransferAdmin(row) {\r\n      RoomService.putTransferAdmin(this.id, row.member_id)\r\n        .then(() => {\r\n          console.log('已轉移房主')\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    handleUnblockOperation(row) {\r\n      RoomService.deleteUnblockUser(this.id, row.blocked_user_id)\r\n        .then(() => {\r\n          console.log('[Success] 解除封鎖成功，對象:', row.blocked_user_id)\r\n          this.blockList = this.blockList.filter(\r\n            (m) => m.blocked_user_id != row.blocked_user_id\r\n          )\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    handleMemberOperation(id, row, operation) {\r\n      var operationText = operation == 'block' ? '封鎖' : '踢出房間'\r\n      this.$prompt(\r\n        '執行原因',\r\n        '將 ' + row.nickname + ' 踢出房間' + operationText,\r\n        {\r\n          confirmButtonText: '確定',\r\n          cancelButtonText: '取消',\r\n          inputPattern: /[^(?!\\s*$).+]/,\r\n          inputErrorMessage: '原因不能為空 !',\r\n        }\r\n      )\r\n        .then((val) => {\r\n          if (operation == 'block') {\r\n            return RoomService.postBlockUser(this.id, row.member_id, val.value)\r\n          } else if (operation == 'remove') {\r\n            return RoomService.deleteRemoveUser(\r\n              this.id,\r\n              row.member_id,\r\n              val.value\r\n            )\r\n          }\r\n        })\r\n        .then((res) => {\r\n          if (res.status == 200) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: operationText + '成功',\r\n            })\r\n          }\r\n          this.memberList = this.memberList.filter(\r\n            (member) => member.member_id != row.member_id\r\n          )\r\n          if (operation == 'block') {\r\n            return this.getBlockList()\r\n              .then((res) => {\r\n                this.blockList = res.data\r\n              })\r\n              .catch((err) => {\r\n                console.log(err.data)\r\n              })\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log('[In RoomShow]', err)\r\n          if (err == 'cancel') {\r\n            this.$message({\r\n              type: 'info',\r\n              message: '取消操作',\r\n            })\r\n          }\r\n        })\r\n\r\n      console.log(\r\n        '[Success]: 執行',\r\n        operation,\r\n        '操作成功，對象:',\r\n        row.member_id\r\n      )\r\n    },\r\n    addMessage(newMessage) {\r\n      this.messages.push(newMessage)\r\n    },\r\n  },\r\n  watch: {\r\n    memberList: function (_memberList) {\r\n      this.getUserObj()\r\n      console.log('[watch] memberList changed:', _memberList)\r\n    },\r\n    user: function (_user) {\r\n      console.log('[watch] user changed:', _user)\r\n      this.isAdmin =\r\n        _user.access_level == 'admin' || _user.access_level == 'manager'\r\n          ? true\r\n          : false\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.mainContainer {\r\n  max-height: 88vh;\r\n}\r\n.mainContainer :deep(.chatRoomContainer) {\r\n  padding: 0 1%;\r\n}\r\n.SideBarContainer {\r\n  width: 160px !important;\r\n}\r\n.chatRoomContainer {\r\n  max-height: 100%;\r\n}\r\n.roomInfo {\r\n  text-align: left;\r\n  width: 200px !important;\r\n  overflow: auto;\r\n}\r\n.roomInfo p {\r\n  font-size: 12px;\r\n  margin: 0;\r\n}\r\n.member {\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 10px 0;\r\n}\r\n.username {\r\n  padding-left: 10px;\r\n}\r\ninput {\r\n  border-style: none;\r\n}\r\n.el-icon-edit {\r\n  cursor: pointer;\r\n}\r\n.el-icon-edit:hover {\r\n  color: #409eff;\r\n}\r\n\r\n.demo-table-expand {\r\n  font-size: 0;\r\n}\r\n.demo-table-expand label {\r\n  width: 90px;\r\n  color: #2e71cf;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\r\n}\r\n</style>\r\n","<template>\r\n  <el-scrollbar class=\"messageWrapperScrollBar\">\r\n    <div class=\"messagesWrapper\">\r\n      <div\r\n        v-for=\"(message, index) in messages\"\r\n        :key=\"index\"\r\n        class=\"bubbleWrapper\"\r\n        ref=\"messageRef\"\r\n      >\r\n        <template v-if=\"message.user === myID\">\r\n          <div class=\"inlineContainer own\">\r\n            <img\r\n              class=\"inlineIcon\"\r\n              src=\"https://www.pinclipart.com/picdir/middle/205-2059398_blinkk-en-mac-app-store-ninja-icon-transparent.png\"\r\n            />\r\n            <div class=\"ownBubble own\">{{ message.text }}</div>\r\n          </div>\r\n          <span class=\"own\">{{ message.time }}</span>\r\n        </template>\r\n        <template v-else>\r\n          <div class=\"inlineContainer\">\r\n            <img\r\n              class=\"inlineIcon\"\r\n              src=\"https://cdn1.iconfinder.com/data/icons/ninja-things-1/1772/ninja-simple-512.png\"\r\n            />\r\n            <div class=\"otherBubble other\">{{ message.text }}</div>\r\n          </div>\r\n          <span class=\"other\">{{ message.time }}</span>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </el-scrollbar>\r\n  <el-input\r\n    placeholder=\"輸入訊息\"\r\n    v-model=\"message\"\r\n    @keydown=\"addMessage\"\r\n    class=\"messageInput\"\r\n  ></el-input>\r\n</template>\r\n\r\n<script>\r\n//import WsService from '@/services/WebsocketService.js'\r\nexport default {\r\n  props: ['roomws', 'messages'],\r\n  computed: {\r\n    myID: function () {\r\n      return this.$store.state.user_id\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      message: '',\r\n      sendMessage: '',\r\n    }\r\n  },\r\n  methods: {\r\n    addMessage(e) {\r\n      if (e.key === 'Enter' && this.message) {\r\n        var today = new Date()\r\n        var hour = today.getHours()\r\n        var minute = today.getMinutes()\r\n        hour = String(hour).padStart(2, '0')\r\n        minute = String(minute).padStart(2, '0')\r\n        var currentTime = `${hour}:${minute}`\r\n        var newMessage = {\r\n          user: this.$store.state.user_id,\r\n          text: this.message,\r\n          time: currentTime,\r\n        }\r\n        this.$emit('addMessasge', newMessage)\r\n        // 這裡是要傳送訊息到Websocket server的code\r\n        let nowRoomID = parseInt(this.$route.params.id, 10)\r\n        //console.log(this.$store.state.user_id)\r\n        let msgObj = {\r\n          header: 'message', // Message 的 header,正常message的header就叫message\r\n          msg_type: 'text', // Message 的 type,因為當初本來有考慮要送圖片 但現在沒有,所以type是text\r\n          userID: this.$store.state.user_id, //送這個message的user ID, 一開始就有存在store裡面\r\n          roomID: nowRoomID, // 目前的roomID,用route參數的ID來判斷\r\n          message: this.message, //文字訊息\r\n          token: this.$store.state.token, //Request 都必需附上token\r\n        }\r\n        this.roomws[nowRoomID].send(JSON.stringify(msgObj))\r\n        this.message = ''\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    messages: {\r\n      immediate: true,\r\n      deep: true,\r\n      handler() {\r\n        this.$nextTick(function () {\r\n          const el = this.$refs.messageRef\r\n          if (el) {\r\n            el.scrollIntoView(false, { behavior: 'smooth' })\r\n          }\r\n        })\r\n      },\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.messageWrapperScrollBar {\r\n  max-height: 90%;\r\n}\r\n.messagesWrapper {\r\n  height: 100%;\r\n  overflow: auto;\r\n  overflow-x: hidden;\r\n}\r\n.bubbleWrapper {\r\n  padding: 10px 10px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  flex-direction: column;\r\n  align-self: flex-end;\r\n  color: #fff;\r\n  font-size: 14px;\r\n}\r\n.inlineContainer {\r\n  display: inline-flex;\r\n}\r\n.inlineContainer.own {\r\n  flex-direction: row-reverse;\r\n}\r\n.inlineIcon {\r\n  width: 20px;\r\n  object-fit: contain;\r\n}\r\n.ownBubble {\r\n  min-width: 20px;\r\n  max-width: 700px;\r\n  padding: 14px 18px;\r\n  margin: 6px 8px;\r\n  background-color: #5b5377;\r\n  border-radius: 16px 16px 0 16px;\r\n  border: 1px solid #443f56;\r\n}\r\n.otherBubble {\r\n  min-width: 20px;\r\n  max-width: 700px;\r\n  padding: 14px 18px;\r\n  margin: 6px 8px;\r\n  background-color: #6c8ea4;\r\n  border-radius: 16px 16px 16px 0;\r\n  border: 1px solid #54788e;\r\n}\r\n.own {\r\n  align-self: flex-end;\r\n}\r\n.other {\r\n  align-self: flex-start;\r\n}\r\nspan.own,\r\nspan.other {\r\n  font-size: 12px;\r\n  color: grey;\r\n}\r\n</style>\r\n","import { render } from \"./ChatRoom.vue?vue&type=template&id=42b6741e\"\nimport script from \"./ChatRoom.vue?vue&type=script&lang=js\"\nexport * from \"./ChatRoom.vue?vue&type=script&lang=js\"\n\nimport \"./ChatRoom.vue?vue&type=style&index=0&id=42b6741e&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./RoomShow.vue?vue&type=template&id=e185418c&scoped=true\"\nimport script from \"./RoomShow.vue?vue&type=script&lang=js\"\nexport * from \"./RoomShow.vue?vue&type=script&lang=js\"\n\nimport \"./RoomShow.vue?vue&type=style&index=0&id=e185418c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-e185418c\"\n\nexport default script","<template>\r\n  <div class=\"login\">\r\n    <el-card class=\"login-card\">\r\n      <h2>Login</h2>\r\n      <el-form\r\n        class=\"login-form\"\r\n        :model=\"model\"\r\n        :rules=\"rules\"\r\n        ref=\"form\"\r\n        @submit.prevent=\"login\"\r\n      >\r\n        <el-form-item prop=\"email\">\r\n          <el-input\r\n            v-model=\"model.email\"\r\n            placeholder=\"Email\"\r\n            prefix-icon=\"el-icon-user\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input\r\n            v-model=\"model.password\"\r\n            placeholder=\"Password\"\r\n            type=\"password\"\r\n            prefix-icon=\"el-icon-lock\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button\r\n            :loading=\"loading\"\r\n            class=\"login-button\"\r\n            type=\"primary\"\r\n            native-type=\"submit\"\r\n            block\r\n            >Login</el-button\r\n          >\r\n        </el-form-item>\r\n        <a class=\"forgot-password\" href=\"\">Forgot password ?</a>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import TokenService from '@/services/TokenService.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      model: {\r\n        email: '',\r\n        password: '',\r\n      },\r\n      loading: false,\r\n      rules: {\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: 'Email is required',\r\n            trigger: 'blur',\r\n          },\r\n          {\r\n            min: 4,\r\n            message: 'Email length should be at least 4 characters',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        password: [\r\n          { required: true, message: 'Password is required', trigger: 'blur' },\r\n          {\r\n            min: 4,\r\n            message: 'Password length should be at least 5 characters',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    this.forDev()\r\n  },\r\n  methods: {\r\n    forDev() {\r\n      this.model.email = 'test1@test.com'\r\n      this.model.password = 'test1'\r\n    },\r\n    Login() {\r\n      this.$store\r\n        .dispatch('login', this.model)\r\n        .then(() => {\r\n          this.$message.success('Login successfull')\r\n          //console.log(this.$store.getters.getToken)\r\n          this.$router.go(-1)\r\n        })\r\n        .catch((res) => {\r\n          console.log('Login Failed:', res)\r\n          this.$message.error('Email or password is invalid')\r\n        })\r\n    },\r\n    simulateLogin() {\r\n      return new Promise((resolve) => {\r\n        setTimeout(resolve, 800)\r\n      })\r\n    },\r\n    async login() {\r\n      let valid = await this.$refs.form.validate()\r\n      if (!valid) {\r\n        return\r\n      }\r\n      this.loading = true\r\n      await this.Login()\r\n      this.loading = false\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* https://codesandbox.io/s/l9v2vyypm?file=/src/components/Login.vue */\r\n/* https://www.gushiciku.cn/pl/g60t/zh-tw */\r\n.login {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  /* background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg'); */\r\n  /* background-size: cover; */\r\n}\r\n.login:before {\r\n  background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg');\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: cover;\r\n  content: '';\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: -1;\r\n  display: block;\r\n  filter: blur(7px);\r\n}\r\n.login-card {\r\n  background: rgba(255, 255, 255, 0.39);\r\n  border: none;\r\n  color: #ffffff;\r\n}\r\n.login-form .el-input input {\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n.login-form {\r\n  width: 290px;\r\n}\r\n.forgot-password {\r\n  margin-top: 10px;\r\n}\r\n.login-button {\r\n  width: 100%;\r\n  margin-top: 40px;\r\n}\r\n.login .el-input__prefix {\r\n  background: rgb(238, 237, 234);\r\n  left: 0;\r\n  height: calc(100% - 2px);\r\n  left: 1px;\r\n  top: 1px;\r\n  border-radius: 3px;\r\n}\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=b77a4e62&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=b77a4e62&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-b77a4e62\"\n\nexport default script","<template>\r\n  <!-- <RoomList /> -->\r\n  <div class=\"userpage\">\r\n    <el-tabs :tab-position=\"tabPosition\">\r\n      <el-tab-pane label=\"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;關於我&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\">\r\n        <el-container>\r\n          <el-main>\r\n            <div class=\"profile\">\r\n              <div style=\"text-align:left;\" class=\"password_title\">\r\n                <h1><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ user.nickname }}</h1>\r\n              </div>\r\n\r\n              <el-divider></el-divider>\r\n\r\n              <div class=\"info\">\r\n                <div class=\"infotext\">\r\n                  <el-row>\r\n                    <i style=\"font-size: 50px\" class=\"el-icon-paperclip\"></i>\r\n                    <h3\r\n                      style=\"\r\n                        margin-left: 10px;\r\n                        margin-top: 0px;\r\n                        font-size: 12px;\r\n                        color: gray;\r\n                      \"\r\n                    >暱稱</h3>\r\n                    <h2\r\n                      style=\"\r\n                        margin-left: -20px;\r\n                        margin-top: -5px;\r\n                        font-size: 20px;\r\n                      \"\r\n                    ><br />{{ user.nickname }}</h2>\r\n                  </el-row>\r\n\r\n                  <el-row>\r\n                    <i style=\"font-size: 50px\" class=\"el-icon-message\"></i>\r\n                    <h3\r\n                      style=\"\r\n                        margin-left: 10px;\r\n                        margin-top: 0px;\r\n                        font-size: 12px;\r\n                        color: gray;\r\n                      \"\r\n                    >信箱</h3>\r\n                    <h2\r\n                      style=\"\r\n                        margin-left: -20px;\r\n                        margin-top: -5px;\r\n                        font-size: 20px;\r\n                      \"\r\n                    ><br />{{ user.email }}</h2>\r\n                  </el-row>\r\n\r\n                  <el-row>\r\n                    <i style=\"font-size: 50px\" class=\"el-icon-user-solid\"></i>\r\n                    <h3\r\n                      style=\"\r\n                        margin-left: 10px;\r\n                        margin-top: 0px;\r\n                        font-size: 12px;\r\n                        color: gray;\r\n                      \"\r\n                    >姓名</h3>\r\n                    <h2\r\n                      style=\"\r\n                        margin-left: -15px;\r\n                        margin-top: -5px;\r\n                        font-size: 20px;\r\n                      \"\r\n                    >\r\n                      <br />{{ user.lastName }},<el-button\r\n                        class=\"btn\"\r\n                        @click=\"clickLastName\">編輯</el-button>\r\n                        {{ user.firstName }}<el-button class=\"btn\" @click=\"clickFirstName\">編輯</el-button>\r\n                    </h2>\r\n\r\n                    <el-alert\r\n                      v-show=\"checkLastName\"\r\n                      type=\"info\"\r\n                      @close=\"cancelEditLastName\"\r\n                      >\r\n                      <input\r\n                      v-if=\"checkLastName\"\r\n                      type=\"text\"\r\n                      v-model=\"lastName\"\r\n                      prefix-icon=\"fas fa-lock\"\r\n                      @keyup.enter=\"saveLastName\"\r\n                      ref=\"newlastname\"/>\r\n                      <el-button v-show=\"checkLastName\" @click=\"saveLastName\">儲存</el-button>\r\n                    </el-alert>\r\n\r\n                    <el-alert\r\n                      v-show=\"checkFirstName\"\r\n                      type=\"info\"\r\n                      @close=\"cancelEditFirstName\"\r\n                      >\r\n                      <input\r\n                      v-if=\"checkFirstName\"\r\n                      type=\"text\"\r\n                      v-model=\"firstName\"\r\n                      prefix-icon=\"fas fa-lock\"\r\n                      @keyup.enter=\"saveFirstName\"\r\n                      ref=\"newfirstname\"/>\r\n                      <el-button v-show=\"checkFirstName\" @click=\"saveFirstName\">儲存</el-button>\r\n                    </el-alert>\r\n\r\n                    <!-- <input\r\n                      v-show=\"checkLastName\"\r\n                      type=\"text\"\r\n                      v-model=\"lastName\"\r\n                      @keyup.enter=\"saveLastName\"\r\n                      ref=\"newlastname\"/>\r\n                    <el-button v-show=\"checkLastName\" @click=\"saveLastName\">save</el-button>\r\n                    <input\r\n                      v-show=\"checkFirstName\"\r\n                      type=\"text\"\r\n                      v-model=\"firstName\"\r\n                      @keyup.enter=\"saveFirstName\"\r\n                      ref=\"newfirstname\"/>\r\n                    <el-button v-show=\"checkFirstName\" @click=\"saveFirstName\">save</el-button> -->\r\n                  </el-row>\r\n\r\n                  <el-row>\r\n                    <i style=\"font-size: 50px\" class=\"el-icon-postcard\"></i>\r\n                    <h3\r\n                      style=\"\r\n                        margin-left: 10px;\r\n                        margin-top: 0px;\r\n                        font-size: 12px;\r\n                        color: gray;\r\n                      \"\r\n                    >科系</h3>\r\n                    <h2\r\n                      style=\"\r\n                        margin-left: -15px;\r\n                        margin-top: -5px;\r\n                        font-size: 20px;\r\n                      \"\r\n                    ><br />{{ user.department }}</h2>\r\n                  </el-row>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-main>\r\n        </el-container>\r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane label=\"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;更改密碼&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\">\r\n        <div class=\"resetPWD\">\r\n          <el-card class=\"reset-card\">\r\n            <h2>變更密碼</h2>\r\n            <el-form\r\n              class=\"reset-form\"\r\n              :model=\"passwordModel\"\r\n              :rules=\"rules\"\r\n              ref=\"form\"\r\n              @submit.prevent=\"submit\"\r\n            >\r\n              <el-form-item prop=\"oldPassword\" label=\"請輸入舊密碼\">\r\n                <!-- <el-input\r\n                  v-model=\"passwordModel.oldPassword\"\r\n                  placeholder=\"Input password again\"\r\n                  type=\"password\"\r\n                  prefix-icon=\"fas fa-repeat\"\r\n                ></el-input> -->\r\n                <input\r\n                  center\r\n                  v-model=\"passwordModel.oldPassword\"\r\n                  placeholder=\"請輸入舊密碼\"\r\n                  type=\"password\"\r\n                  prefix-icon=\"fas fa-lock\"\r\n                  ref=\"oldPassword\"\r\n                  @keyup.enter=\"sumitChangePassword\"/>\r\n              </el-form-item>\r\n\r\n              <el-form-item prop=\"newPassword1\" label=\"請輸入新密碼\">\r\n                <!-- <el-input\r\n                  v-model=\"passwordModel.newPassword1\"\r\n                  placeholder=\"Input password\"\r\n                  type=\"password\"\r\n                  prefix-icon=\"fas fa-lock\"\r\n                ></el-input> -->\r\n                <input\r\n                  center\r\n                  v-model=\"passwordModel.newPassword1\"\r\n                  placeholder=\"請輸入新密碼\"\r\n                  type=\"password\"\r\n                  prefix-icon=\"fas fa-lock\"\r\n                  ref=\"newPassword1\"\r\n                  @keyup.enter=\"sumitChangePassword\"/>\r\n              </el-form-item>\r\n\r\n              <el-form-item prop=\"newPassword2\" label=\"再輸入一次\">\r\n                <!-- <el-input\r\n                  v-model=\"passwordModel.newPassword2\"\r\n                  placeholder=\"Input password again\"\r\n                  type=\"password\"\r\n                  prefix-icon=\"fas fa-repeat\"\r\n                ></el-input> -->\r\n                <input\r\n                  center\r\n                  v-model=\"passwordModel.newPassword2\"\r\n                  placeholder=\"再輸入一次\"\r\n                  type=\"password\"\r\n                  prefix-icon=\"fas fa-lock\"\r\n                  ref=\"newPassword2\"\r\n                  @keyup.enter=\"sumitChangePassword\"/>\r\n              </el-form-item>\r\n\r\n              <el-form-item>\r\n                <!-- <el-button\r\n                  :loading=\"loading\"\r\n                  class=\"login-button\"\r\n                  type=\"primary\"\r\n                  \r\n                  block\r\n                  >確定送出</el-button\r\n                > -->\r\n                <el-button type=\"info\" round @click=\"sumitChangePassword\">確認送出</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-card>\r\n        </div>\r\n        \r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane label=\"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;我的房間&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\">\r\n        <RoomList />\r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane label=\"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;房主管理&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\">\r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane label=\"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;入房記錄&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"></el-tab-pane>\r\n\r\n    </el-tabs>\r\n \r\n\r\n\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport UserService from '@/services/UserService.js'\r\nimport RoomList from '@/components/RoomList.vue'\r\n\r\nexport default {\r\n  props: ['userToken', 'mailToken'],\r\n  components: {\r\n    RoomList,\r\n  },\r\n  data() {\r\n    var validatePass2 = (rule, value, callback) => {\r\n      if (value !== this.passwordModel.newPassword1) {\r\n        callback(new Error('兩次輸入密碼不一致 !'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      tabPosition: 'left',\r\n      checkLastName: false,\r\n      checkFirstName: false,\r\n      user: {\r\n        id: 0,\r\n        nickname: '',\r\n        email: '',\r\n        department: '',\r\n        lastName: '',\r\n        firstName: '',\r\n      },\r\n      passwordModel: {\r\n        oldPassword: '',\r\n        newPassword1: '',\r\n        newPassword2: '',\r\n      },\r\n      loading: false,\r\n      rules: {\r\n        oldPassword:[\r\n          {\r\n            required: true,\r\n            message: '此為必填欄位',\r\n            trigger: 'blur',\r\n          },\r\n          {\r\n            min: 4,\r\n            message: '密碼需至少4個字',\r\n            trigger: 'blur',\r\n          },\r\n\r\n        ],\r\n        newPassword1: [\r\n          {\r\n            required: true,\r\n            message: '此為必填欄位',\r\n            trigger: 'blur',\r\n          },\r\n          {\r\n            min: 4,\r\n            message: '密碼需至少4個字',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        newPassword2: [\r\n          { required: true, message: '此為必填欄位',\r\n          trigger: 'blur' },\r\n          {\r\n            min: 4,\r\n            message: '密碼需至少4個字',\r\n            trigger: 'blur',\r\n          },\r\n          { validator: validatePass2, trigger: 'blur' },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  async created() {\r\n    if (this.$store.state.token) {\r\n      this.$store\r\n        .dispatch('refreshToken')\r\n        .then((res) => {\r\n          console.log(\"f1\", res)\r\n          return UserService.getUserId()\r\n        }).then((res) => {\r\n          console.log(\"f2\", res)\r\n          this.user.id = res.data.id\r\n          console.log(\"f3\", this.user.id)\r\n          return this.ser_fun()\r\n        }).then((res) => {\r\n          console.log(\"4444\", res)\r\n          return UserService.getUser(this.user.id)\r\n        }).then((res) => {\r\n          console.log(\"f4\", res.data)\r\n          this.user.email = res.data.email\r\n          this.user.nickname = res.data.email\r\n          this.user.department = res.data.department\r\n          this.user.lastName = res.data.last_name\r\n          this.user.firstName = res.data.first_name\r\n        })\r\n        .catch((err) => {\r\n          if (\r\n            'code' in err.response.data &&\r\n            err.response.data['code'] == 'token_not_valid'\r\n          ) {\r\n            this.$store.dispatch('resetToken')\r\n            this.$router.push({\r\n              name: 'login',\r\n            })\r\n          }\r\n        })\r\n    } else {\r\n      console.log('plz login !')\r\n      this.$router.push({\r\n        name: 'login',\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    clickLastName() {\r\n      this.checkLastName = true\r\n    },\r\n    cancelEditLastName() {\r\n      this.checkLastName = false\r\n    },\r\n    saveLastName() {\r\n      this.checkLastName = false\r\n      this.user.lastName=this.$refs.newlastname.value\r\n      console.log('666', this.$refs.newlastname.value)\r\n      UserService.putUserEdit(this.user.id, this.$refs.newlastname.value, this.user.firstName)\r\n    },\r\n    clickFirstName() {\r\n      this.checkFirstName = true\r\n    },\r\n    cancelEditFirstName() {\r\n      this.checkFirstName = false\r\n    },\r\n    saveFirstName() {\r\n      this.checkFirstName = false\r\n      this.user.firstName=this.$refs.newfirstname.value\r\n      console.log('777', this.$refs.newfirstname.value)\r\n      UserService.putUserEdit(this.user.id, this.user.lastName, this.$refs.newfirstname.value)\r\n    },\r\n    sumitChangePassword() {\r\n      console.log(\"111\")\r\n      if (this.$refs.oldPassword.value == \"\" | this.$refs.newPassword1.value == \"\" | this.$refs.newPassword2.value == \"\") {\r\n        console.log(\"wrong1\")\r\n        this.noInputPassword()\r\n        this.passwordModel.oldPassword = ''\r\n        this.passwordModel.newPassword1 = ''\r\n        this.passwordModel.newPassword2 = ''\r\n      } else if (this.$refs.newPassword1.value != this.$refs.newPassword2.value) {\r\n        console.log(\"wrong2\")\r\n        this.notEqualNewPassword()\r\n        this.passwordModel.oldPassword = ''\r\n        this.passwordModel.newPassword1 = ''\r\n        this.passwordModel.newPassword2 = ''\r\n      } else {\r\n        UserService.putChangePassword(this.user.id, this.$refs.oldPassword.value, this.$refs.newPassword1.value, this.$refs.newPassword2.value)\r\n        console.log(\"222\", this.user.id)\r\n        console.log(\"333\", this.$refs.oldPassword.value)\r\n        console.log(\"444\", this.$refs.newPassword1.value)\r\n        console.log(\"555\", this.$refs.newPassword2.value)\r\n        this.finishChangePassword()\r\n        this.passwordModel.oldPassword = ''\r\n        this.passwordModel.newPassword1 = ''\r\n        this.passwordModel.newPassword2 = ''\r\n      }\r\n    },\r\n    notEqualNewPassword() {\r\n      this.$message({\r\n        message: '兩次密碼不一致',\r\n        center: true,\r\n        type: \"warning\",\r\n      });\r\n    },\r\n    noInputPassword() {\r\n      this.$message({\r\n        message: '輸入不能為空白',\r\n        center: true,\r\n        type: \"warning\",\r\n      });\r\n    },\r\n    finishChangePassword() {\r\n      this.$message({\r\n        message: '修改成功',\r\n        center: true,\r\n        type: \"success\",\r\n      });\r\n    },\r\n    ser_fun() {\r\n      this\r\n    }, \r\n  },\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n.profile {\r\n  background-color: rgb(238, 233, 227);\r\n  width: 1000px;\r\n  margin-left: 20px;\r\n}\r\n\r\n.profile .imgid {\r\n  top: 160px;\r\n  left: 620px;\r\n}\r\n\r\n.profile .imgbut {\r\n  top: 180px;\r\n  left: 620px;\r\n}\r\n\r\n.profile .info {\r\n}\r\n\r\n.profile .info .infotext {\r\n  text-align: left;\r\n  margin-left: 20px;\r\n}\r\n\r\n.el-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.password {\r\n  background-color: rgb(238, 233, 227);\r\n  width: 1000px;\r\n}\r\n\r\n.password .password_title {\r\n  top: 50px;\r\n}\r\n\r\n.password .info {\r\n}\r\n\r\n.password .info .infotext {\r\n  text-align: left;\r\n  margin-top: 10px;\r\n}\r\n\r\n.resetPWD {\r\n  /* flex: 1; */\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  /* background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg'); */\r\n  /* background-size: cover; */\r\n}\r\n\r\n.resetPWD:before {\r\n  /* background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg'); */\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: cover;\r\n  content: '';\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: -1;\r\n  display: block;\r\n  filter: blur(7px);\r\n}\r\n\r\n.reset-card {\r\n  background: rgba(255, 255, 255, 0.39);\r\n  border: none;\r\n  color: #ffffff;\r\n}\r\n\r\n.reset-form .el-input input {\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.reset-form {\r\n  width: 290px;\r\n}\r\n\r\n.reset-button {\r\n  width: 100%;\r\n  margin-top: 40px;\r\n}\r\n\r\n.resetPWD .el-input__prefix {\r\n  background: rgb(238, 237, 234);\r\n  left: 0;\r\n  height: calc(100% - 2px);\r\n  left: 1px;\r\n  top: 1px;\r\n  border-radius: 3px;\r\n}\r\n\r\n</style>","import axios from 'axios'\r\nimport store from '@/store/index.js'\r\n\r\naxios.defaults.xsrfCookieName = 'csrftoken'\r\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\r\n\r\nconst apiDjango = axios.create({\r\n  baseURL: `http://localhost:8000`,\r\n  withCredentials: false, // This is the default\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n})\r\n\r\napiDjango.interceptors.request.use(\r\n  (request) => {\r\n    let token = store.state.token\r\n    token && (request.headers.Authorization = 'Bearer ' + token)\r\n    return request\r\n  },\r\n  (e) => Promise.reject(e)\r\n)\r\n\r\napiDjango.interceptors.response.use(\r\n  (res) => {\r\n    return Promise.resolve(res)\r\n  },\r\n  (err) => {\r\n    if (err && err.response) {\r\n      switch (err.response.status) {\r\n        case 401:\r\n          console.log('登入無效')\r\n          store.dispatch('logout')\r\n          this.$router.push('/')\r\n          break\r\n        case 404:\r\n          console.log('找不到該頁面')\r\n          break\r\n        case 500:\r\n          console.log('伺服器出錯')\r\n          break\r\n        case 503:\r\n          console.log('服務失效')\r\n          break\r\n        default:\r\n          console.log(`連接錯誤${err.response.status}`)\r\n      }\r\n    } else {\r\n      console.log('連接到服務器失敗')\r\n    }\r\n    return Promise.reject(err.response)\r\n  })\r\n\r\n  export default {  \r\n    getUserId() {\r\n    return apiDjango.get('/api/user/get_id/')\r\n    },\r\n\r\n    getUser(userId) {\r\n    return apiDjango.get('/api/user/' + userId + '/')\r\n    },\r\n\r\n    getUserRoom() {\r\n      return apiDjango.get('/user_room/')\r\n    },\r\n\r\n    putUserEdit(userId, newLastName, newFirstName) {\r\n      return apiDjango.put('/api/user/' + userId + '/', {\r\n        last_name: newLastName,\r\n        first_name: newFirstName,\r\n      },)\r\n    },\r\n\r\n    putChangePassword(userId, oldPassword, newPassword1, newPassword2) {\r\n      return apiDjango.put('/api/user/' + userId + '/change_password/', {\r\n        old_password: oldPassword,\r\n        password: newPassword1,\r\n        password2: newPassword2,\r\n      },)\r\n    },\r\n  }","<template v-:fixed>\r\n  <div class=\"userpage\">\r\n    <el-container>\r\n      <router-view />\r\n\r\n      <el-main id=\"roomCardContainer\" v-if=\"rooms.length > 0\">\r\n        <div\r\n          v-masonry=\"roomCardContainer\"\r\n          item-selector=\".item\"\r\n          column-width=\".item\"\r\n        >\r\n          <div\r\n            v-masonry-tile\r\n            class=\"item\"\r\n            v-for=\"(room, index) in rooms\"\r\n            v-bind:key=\"index\"\r\n          >\r\n            <RoomListCard :room=\"room\" />\r\n          </div>\r\n        </div>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RoomListCard from '@/components/RoomListCard.vue'\r\nimport UserService from '@/services/UserService.js'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport default {\r\n  components: {\r\n    RoomListCard,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      rooms: [],\r\n    }\r\n  },\r\n\r\n  created() {\r\n    if (this.$store.state.token) {\r\n      this.$store\r\n        .dispatch('refreshToken', this.event)\r\n        .then((resRefresh) => {\r\n          console.log(resRefresh)\r\n          'status' in resRefresh &&\r\n            console.log(\r\n              '[Home.vue.created.then] refreshToken then：' +\r\n                '\\nstatus code: ' +\r\n                resRefresh.status +\r\n                '\\naccess token: ' +\r\n                JSON.stringify(resRefresh.data.access)\r\n            )\r\n        })\r\n        .then(() => {\r\n          UserService.getUserRoom()\r\n            .then((response) => {\r\n              this.rooms = response.data\r\n              console.log(\"aaaaaaaaa\", response.data)\r\n            })\r\n            .catch((error) => {\r\n              console.log(\r\n                '[Home.vue] error: created(), RoomService.getRooms():',\r\n                '\\n理論上這邊不會再有錯誤了，注意一下\\n',\r\n                error.response\r\n              )\r\n            })\r\n        })\r\n        .catch((err) => {\r\n          console.log(\r\n            '[Home.vue.created.catch], token exist but:',\r\n            '\\nstatus code: ',\r\n            err.response.status,\r\n            '\\nerror message: ',\r\n            JSON.stringify(err.response.data)\r\n          )\r\n          if (\r\n            'code' in err.response.data &&\r\n            err.response.data['code'] == 'token_not_valid'\r\n          ) {\r\n            console.log('[Home.vue.created.catch] delete token')\r\n            this.$store.dispatch('resetToken')\r\n          }\r\n          this.$router.push({\r\n            name: 'login',\r\n          })\r\n        })\r\n    } else {\r\n      console.log('plz login !')\r\n      ElMessage.error('請登入 !')\r\n      // window.location.href = '/login'\r\n      this.$router.push({\r\n        name: 'login',\r\n      })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.item {\r\n  width: 100%;\r\n}\r\n\r\n\r\n</style>","<template>\r\n  <el-card :body-style=\"{ padding: '0px' }\" class=\"card\">\r\n\r\n    <div class=\"image\">\r\n      <img :src=\"images[room.id % 4]\" \r\n        width=\"150\">\r\n      <h4>{{ room.title }}</h4>\r\n    </div>\r\n    <div class=\"info\">\r\n      <div style=\"text-align:left; margin-left:40px;\">\r\n        <p>crate time：{{ room.create_time.slice(0, 10) }} {{ room.create_time.slice(11, 19) }} </p>\r\n        <p>valid time：{{ room.valid_time }}</p>\r\n        <p>room type：{{ room.room_type }}</p>\r\n        <p>room category：{{ room.room_category }}</p>\r\n        <p>people limit:{{ room.people_limit }}</p>\r\n        <p>introduction： <el-button type=\"text\" @click=\"moreIntro\">more</el-button></p>\r\n      </div>\r\n\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\n// import UserService from '@/services/UserService.js'\r\nimport RoomService from '@/services/RoomService.js'\r\n\r\nexport default {\r\n  props: {\r\n    room: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      images: [\r\n        'https://i.imgur.com/kN4J0UL.jpg',\r\n        '',\r\n        'https://i.imgur.com/17SSeJb.png',\r\n        'https://i.imgur.com/o2uS5WX.png',\r\n        'https://i.imgur.com/wc0HqRT.png',\r\n        'https://i.imgur.com/qdIZSWc.jpg',\r\n        'https://i.imgur.com/GOaM9dB.jpg',\r\n        'https://i.imgur.com/G65qPbl.jpg',\r\n        'https://i.imgur.com/WxiJ6K0.jpg',\r\n      ],\r\n\r\n      host: '',\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getMemberList() {\r\n      return RoomService.getRoomMemberList(this.id)\r\n    },\r\n\r\n    moreIntro() {\r\n      this.$alert(this.room.introduction, this.room.title, {\r\n        confirmButtonText: 'OK',\r\n      });\r\n      // this.room.introduction\r\n    },\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.image{\r\n  vertical-align:middle;\r\n  float:left;\r\n  width:20%;\r\n}\r\n\r\n.info{\r\n  float:right;\r\n  width:80%;\r\n}\r\n\r\n.el-card h4 {\r\n  margin: 10px;\r\n}\r\n\r\n.card {\r\n  height: 250px;\r\n  background-color:rgb(185, 182, 177);\r\n}\r\n</style>","import { render } from \"./RoomListCard.vue?vue&type=template&id=26877d1c&scoped=true\"\nimport script from \"./RoomListCard.vue?vue&type=script&lang=js\"\nexport * from \"./RoomListCard.vue?vue&type=script&lang=js\"\n\nimport \"./RoomListCard.vue?vue&type=style&index=0&id=26877d1c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-26877d1c\"\n\nexport default script","import { render } from \"./RoomList.vue?vue&type=template&id=110218d8&scoped=true\"\nimport script from \"./RoomList.vue?vue&type=script&lang=js\"\nexport * from \"./RoomList.vue?vue&type=script&lang=js\"\n\nimport \"./RoomList.vue?vue&type=style&index=0&id=110218d8&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-110218d8\"\n\nexport default script","import { render } from \"./UserPage.vue?vue&type=template&id=e076cce2\"\nimport script from \"./UserPage.vue?vue&type=script&lang=js\"\nexport * from \"./UserPage.vue?vue&type=script&lang=js\"\n\nimport \"./UserPage.vue?vue&type=style&index=0&id=e076cce2&lang=css\"\nscript.render = render\n\nexport default script","<template>\r\n  <div class=\"resetPWD\">\r\n    <el-card class=\"reset-card\">\r\n      <h2>重設密碼</h2>\r\n      <el-form\r\n        class=\"reset-form\"\r\n        :model=\"model\"\r\n        :rules=\"rules\"\r\n        ref=\"form\"\r\n        @submit.prevent=\"submit\"\r\n      >\r\n        <el-form-item prop=\"password\" label=\"新密碼\">\r\n          <el-input\r\n            v-model=\"model.password\"\r\n            placeholder=\"Input password\"\r\n            type=\"password\"\r\n            prefix-icon=\"fas fa-lock\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"repeatPassword\" label=\"再輸入一次\">\r\n          <el-input\r\n            v-model=\"model.repeatPassword\"\r\n            placeholder=\"Input password again\"\r\n            type=\"password\"\r\n            prefix-icon=\"fas fa-repeat\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button\r\n            :loading=\"loading\"\r\n            class=\"login-button\"\r\n            type=\"primary\"\r\n            native-type=\"submit\"\r\n            block\r\n            >提交</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RoomService from '@/services/RoomService.js'\r\n\r\nexport default {\r\n  props: ['userToken', 'mailToken'],\r\n  data() {\r\n    var validatePass2 = (rule, value, callback) => {\r\n      if (value !== this.model.password) {\r\n        callback(new Error('兩次輸入密碼不一致 !'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      loading: false,\r\n      model: {\r\n        password: '',\r\n        repeatPassword: '',\r\n      },\r\n\r\n      rules: {\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: 'Password is required',\r\n            trigger: 'blur',\r\n          },\r\n          {\r\n            min: 4,\r\n            message: 'Password length should be at least 4 characters',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        repeatPassword: [\r\n          { required: true, message: 'Password is required', trigger: 'blur' },\r\n          {\r\n            min: 4,\r\n            message: 'Password length should be at least 4 characters',\r\n            trigger: 'blur',\r\n          },\r\n          { validator: validatePass2, trigger: 'blur' },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    this.forDev()\r\n  },\r\n  methods: {\r\n    forDev() {\r\n      this.model.password = 'test'\r\n      this.model.repeatPassword = 'test'\r\n    },\r\n    submitReset() {\r\n      console.log('submitReset')\r\n      return RoomService.postResetPassword(\r\n        this.userToken,\r\n        this.mailToken,\r\n        this.model.password\r\n      )\r\n    },\r\n    simulateLogin() {\r\n      return new Promise((resolve) => {\r\n        setTimeout(resolve, 800)\r\n      })\r\n    },\r\n    async submit() {\r\n      let valid = await this.$refs.form.validate()\r\n      if (!valid) {\r\n        return\r\n      }\r\n      this.loading = true\r\n      await this.submitReset()\r\n        .then((res) => {\r\n          this.$message.success('修改成功 !')\r\n          console.log(res)\r\n          this.$router.push({\r\n            name: 'login',\r\n          })\r\n        })\r\n        .catch((err) => {\r\n          this.$message.error('有些問題發生了 ! 請聯繫管理員 QQ')\r\n          console.log(err)\r\n        })\r\n      this.loading = false\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n/* https://codesandbox.io/s/l9v2vyypm?file=/src/components/Login.vue */\r\n/* https://www.gushiciku.cn/pl/g60t/zh-tw */\r\n.resetPWD {\r\n  /* flex: 1; */\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  /* background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg'); */\r\n  /* background-size: cover; */\r\n}\r\n.resetPWD:before {\r\n  background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg');\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: cover;\r\n  content: '';\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: -1;\r\n  display: block;\r\n  filter: blur(7px);\r\n}\r\n.reset-card {\r\n  background: rgba(255, 255, 255, 0.39);\r\n  border: none;\r\n  color: #ffffff;\r\n}\r\n.reset-form .el-input input {\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n.reset-form {\r\n  width: 290px;\r\n}\r\n.reset-button {\r\n  width: 100%;\r\n  margin-top: 40px;\r\n}\r\n.resetPWD .el-input__prefix {\r\n  background: rgb(238, 237, 234);\r\n  left: 0;\r\n  height: calc(100% - 2px);\r\n  left: 1px;\r\n  top: 1px;\r\n  border-radius: 3px;\r\n}\r\n</style>\r\n","import { render } from \"./MailRedirect.vue?vue&type=template&id=51d37446&scoped=true\"\nimport script from \"./MailRedirect.vue?vue&type=script&lang=js\"\nexport * from \"./MailRedirect.vue?vue&type=script&lang=js\"\n\nimport \"./MailRedirect.vue?vue&type=style&index=0&id=51d37446&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-51d37446\"\n\nexport default script","<template>\r\n  <div class=\"cr-container\">\r\n    <div class=\"mars\"></div>\r\n    <img\r\n      v-if=\"type == '404'\"\r\n      src=\"https://assets.codepen.io/1538474/404.svg\"\r\n      class=\"logo-404\"\r\n    />\r\n    <img src=\"https://assets.codepen.io/1538474/meteor.svg\" class=\"meteor\" />\r\n    <p class=\"title\">{{ title }}</p>\r\n    <p class=\"subtitle\">\r\n      {{ description }}\r\n    </p>\r\n    <div align=\"center\">\r\n      <a class=\"btn-back\" href=\"/\">Back to home page</a>\r\n    </div>\r\n    <img\r\n      src=\"https://assets.codepen.io/1538474/astronaut.svg\"\r\n      class=\"astronaut\"\r\n    />\r\n    <img\r\n      src=\"https://assets.codepen.io/1538474/spaceship.svg\"\r\n      class=\"spaceship\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RoomService from '@/services/RoomService.js'\r\n\r\nexport default {\r\n  props: ['type', 'token', 'userToken'],\r\n  data() {\r\n    return {\r\n      title: 'Oh no!!',\r\n      description:\r\n        \"You’re either misspelling the URL \\n or requesting a page that's no longer here.\",\r\n    }\r\n  },\r\n  created() {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init() {\r\n      // getMailVerify\r\n      if (this.type == 'verify-mail') {\r\n        this.title = 'Mail Verification'\r\n        RoomService.getMailVerify(this.userToken, this.token)\r\n          .then((res) => {\r\n            if (res.data == 'success') {\r\n              this.description = 'Verify Successful !'\r\n            } else {\r\n              console.log(res.data)\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            this.description = err.data\r\n          })\r\n      } else if (this.type == 'permission-deny') {\r\n        this.title = 'Permission Deny'\r\n        this.description =\r\n          '可能是因為您不是該房間成員、或是已被封鎖 \\n 故無法進入該房間 !'\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* REF: https://codepen.io/AsyrafHussin/pen/KxWRrK */\r\n\r\n.subtitle {\r\n  white-space: pre;\r\n}\r\n\r\n@import url('https://fonts.googleapis.com/css?family=Nunito:400,600,700');\r\n@keyframes floating {\r\n  from {\r\n    transform: translateY(0px);\r\n  }\r\n  65% {\r\n    transform: translateY(15px);\r\n  }\r\n  to {\r\n    transform: translateY(0px);\r\n  }\r\n}\r\n/* html {\r\n  height: 100%;\r\n} */\r\n.cr-container {\r\n  background-image: url(https://assets.codepen.io/1538474/star.svg),\r\n    linear-gradient(to bottom, #05007a, #4d007d);\r\n\r\n  height: 100%;\r\n  margin: 0;\r\n  background-attachment: fixed;\r\n  overflow: hidden;\r\n}\r\n.mars {\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  position: absolute;\r\n  height: 27vmin;\r\n  background: url('https://assets.codepen.io/1538474/mars.svg') no-repeat bottom\r\n    center;\r\n  background-size: cover;\r\n}\r\n.logo-404 {\r\n  position: absolute;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  left: 0;\r\n  right: 0;\r\n  top: 16vmin;\r\n  width: 30vmin;\r\n}\r\n@media (max-width: 480px) and (min-width: 320px) {\r\n  .logo-404 {\r\n    top: 45vmin;\r\n  }\r\n}\r\n.meteor {\r\n  position: absolute;\r\n  right: 2vmin;\r\n  top: 16vmin;\r\n}\r\n.title {\r\n  color: white;\r\n  font-family: 'Nunito', sans-serif;\r\n  font-weight: 600;\r\n  text-align: center;\r\n  font-size: 5vmin;\r\n  margin-top: 31vmin;\r\n}\r\n@media (max-width: 480px) and (min-width: 320px) {\r\n  .title {\r\n    margin-top: 65vmin;\r\n  }\r\n}\r\n.subtitle {\r\n  color: white;\r\n  font-family: 'Nunito', sans-serif;\r\n  font-weight: 400;\r\n  text-align: center;\r\n  font-size: 3.5vmin;\r\n  margin-top: -1vmin;\r\n  margin-bottom: 9vmin;\r\n}\r\n.btn-back {\r\n  border: 1px solid white;\r\n  color: white;\r\n  height: 5vmin;\r\n  padding: 12px;\r\n  font-family: 'Nunito', sans-serif;\r\n  text-decoration: none;\r\n  border-radius: 5px;\r\n}\r\n.btn-back:hover {\r\n  background: white;\r\n  color: #4d007d;\r\n}\r\n@media (max-width: 480px) and (min-width: 320px) {\r\n  .btn-back {\r\n    font-size: 3.5vmin;\r\n  }\r\n}\r\n.astronaut {\r\n  position: absolute;\r\n  top: 18vmin;\r\n  left: 10vmin;\r\n  height: 30vmin;\r\n  animation: floating 3s infinite ease-in-out;\r\n}\r\n@media (max-width: 480px) and (min-width: 320px) {\r\n  .astronaut {\r\n    top: 2vmin;\r\n  }\r\n}\r\n.spaceship {\r\n  position: absolute;\r\n  bottom: 15vmin;\r\n  right: 24vmin;\r\n}\r\n@media (max-width: 480px) and (min-width: 320px) {\r\n  .spaceship {\r\n    width: 45vmin;\r\n    bottom: 18vmin;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CommonRedirect.vue?vue&type=template&id=2a49a6ef&scoped=true\"\nimport script from \"./CommonRedirect.vue?vue&type=script&lang=js\"\nexport * from \"./CommonRedirect.vue?vue&type=script&lang=js\"\n\nimport \"./CommonRedirect.vue?vue&type=style&index=0&id=2a49a6ef&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-2a49a6ef\"\n\nexport default script","<template>\r\n  <div class=\"register\">\r\n    <el-card class=\"register-card\">\r\n      <h2>註冊</h2>\r\n      <el-form\r\n        class=\"register-form\"\r\n        :model=\"model\"\r\n        :rules=\"rules\"\r\n        ref=\"form\"\r\n        @submit.prevent=\"register\"\r\n      >\r\n        <el-form-item\r\n          label=\"E-mail (* 僅可用 ntu.edu.tw 註冊，填學號)\"\r\n          prop=\"email\"\r\n        >\r\n          <el-col :span=\"12\">\r\n            <el-input\r\n              v-model=\"model.email\"\r\n              placeholder=\"Email\"\r\n              prefix-icon=\"el-icon-user\"\r\n            >\r\n            </el-input>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <span>@ntu.edu.tw</span>\r\n          </el-col>\r\n        </el-form-item>\r\n        <el-form-item label=\"密碼\" prop=\"password\">\r\n          <el-input\r\n            v-model=\"model.password\"\r\n            placeholder=\"請輸入密碼\"\r\n            type=\"password\"\r\n            prefix-icon=\"el-icon-lock\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"請再輸入一次密碼\" prop=\"password2\">\r\n          <el-input\r\n            v-model=\"model.password2\"\r\n            placeholder=\"再輸入一次密碼\"\r\n            type=\"password\"\r\n            prefix-icon=\"el-icon-lock\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\" required>\r\n          <el-col :span=\"8\">\r\n            <el-form-item prop=\"last_name\">\r\n              <el-input\r\n                prefix-icon=\"el-icon-user\"\r\n                v-model=\"model.last_name\"\r\n                placeholder=\"姓\"\r\n              >\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item prop=\"first_name\">\r\n              <el-input v-model=\"model.first_name\" placeholder=\"名\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-form-item>\r\n        <el-form-item label=\"系籍\" prop=\"department\" required>\r\n          <el-input\r\n            v-model=\"model.department\"\r\n            placeholder=\"系籍\"\r\n            prefix-icon=\"el-icon-folder\"\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"暱稱\" prop=\"nickname\" required>\r\n          <el-input\r\n            v-model=\"model.nickname\"\r\n            placeholder=\"Nickname\"\r\n            prefix-icon=\"el-icon-chat-round\"\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button\r\n            :loading=\"loading\"\r\n            class=\"register-button\"\r\n            type=\"primary\"\r\n            native-type=\"submit\"\r\n            block\r\n            >提交</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RoomService from '@/services/RoomService.js'\r\n\r\nexport default {\r\n  data() {\r\n    var validatePass2 = (rule, value, callback) => {\r\n      if (value !== this.model.password) {\r\n        callback(new Error('兩次輸入密碼不一致 !'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      model: {\r\n        email: '',\r\n        password: '',\r\n        password2: '',\r\n        last_name: '',\r\n        first_name: '',\r\n        department: '',\r\n        nickname: '',\r\n      },\r\n      loading: false,\r\n      rules: {\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: '必須填寫(寫學號就好)',\r\n            trigger: 'blur',\r\n          },\r\n          {\r\n            min: 4,\r\n            message: 'Email length should be at least 4 characters',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        password: [\r\n          { required: true, message: '必須填寫', trigger: 'blur' },\r\n          {\r\n            min: 4,\r\n            message: '請設定至少四個字以上',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        password2: [\r\n          { required: true, message: '必須填寫', trigger: 'blur' },\r\n          {\r\n            min: 4,\r\n            message: '請設定至少四個字以上',\r\n            trigger: 'blur',\r\n          },\r\n          { validator: validatePass2, trigger: 'blur' },\r\n        ],\r\n        last_name: [\r\n          { required: true, message: '姓 必須填寫', trigger: 'blur' },\r\n        ],\r\n        first_name: [\r\n          { required: true, message: '名 必須填寫', trigger: 'blur' },\r\n        ],\r\n        department: [\r\n          { required: true, message: '系籍必須填寫', trigger: 'blur' },\r\n        ],\r\n        nickname: [\r\n          { required: true, message: '暱稱必須填寫', trigger: 'blur' },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    this.forDev()\r\n  },\r\n  methods: {\r\n    forDev() {\r\n      this.model.email = 'r09921119'\r\n      this.model.password = 'test'\r\n      this.model.password2 = 'test'\r\n      this.model.last_name = '許'\r\n      this.model.first_name = '凱荃'\r\n      this.model.department = '電機系'\r\n      this.model.nickname = 'MeteorV'\r\n    },\r\n    submitRegister() {\r\n      console.log('submitRegister')\r\n      let t = Object.assign({}, this.model)\r\n      t.email = t.email + '@ntu.edu.tw'\r\n      return RoomService.postRegister(t)\r\n    },\r\n    simulateLogin() {\r\n      return new Promise((resolve) => {\r\n        setTimeout(resolve, 800)\r\n      })\r\n    },\r\n    async register() {\r\n      let valid = await this.$refs.form.validate()\r\n      if (!valid) {\r\n        return\r\n      }\r\n      this.loading = true\r\n      await this.submitRegister()\r\n        .then((res) => {\r\n          this.$message.success('註冊成功 ! 記得去信箱收信 !')\r\n          console.log(res)\r\n          this.$router.push({\r\n            name: 'login',\r\n          })\r\n        })\r\n        .catch((err) => {\r\n          for (let [key, val] of Object.entries(err.data)) {\r\n            this.$message.error(key + ': ' + val[0])\r\n            console.log(key + ': ' + val[0])\r\n          }\r\n        })\r\n      this.loading = false\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* https://codesandbox.io/s/l9v2vyypm?file=/src/components/Login.vue */\r\n/* https://www.gushiciku.cn/pl/g60t/zh-tw */\r\n.register {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  /* background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg'); */\r\n  /* background-size: cover; */\r\n}\r\n.register:before {\r\n  background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg');\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: cover;\r\n  content: '';\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: -1;\r\n  display: block;\r\n  filter: blur(7px);\r\n}\r\n.register-card {\r\n  background: rgba(255, 255, 255, 0.7);\r\n  border: none;\r\n  text-align: center;\r\n  /* color: #ffffff; */\r\n}\r\n.register-form .el-input input {\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n.register-form {\r\n  width: 80%;\r\n  display: inline-block;\r\n}\r\n.forgot-password {\r\n  margin-top: 10px;\r\n}\r\n.register-button {\r\n  width: 100%;\r\n  margin-top: 40px;\r\n}\r\n.register .el-input__prefix {\r\n  background: rgb(238, 237, 234);\r\n  left: 0;\r\n  height: calc(100% - 2px);\r\n  left: 1px;\r\n  top: 1px;\r\n  border-radius: 3px;\r\n}\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=9ec4355a&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=9ec4355a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-9ec4355a\"\n\nexport default script","import { createRouter, createWebHistory } from \"vue-router\";\r\n/*import Component*/\r\nimport Home from \"../views/Home.vue\";\r\nimport RoomCreate from '@/views/RoomCreate.vue'\r\n//import RoomList from './views/RoomList.vue'\r\nimport RoomShow from '@/views/RoomShow.vue'\r\nimport LoginPage from '@/views/Login.vue'\r\nimport UserPage from '@/views/UserPage.vue'\r\nimport MailRedirect from '@/views/MailRedirect.vue'\r\nimport CommonRedirect from '@/views/CommonRedirect.vue'\r\nimport RegisterPage from '@/views/Register.vue'\r\n// import RoomList from '@/components/RoomList.vue'\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'home',\r\n    component: Home,\r\n  },\r\n  {\r\n    path: '/room/create',\r\n    name: 'room-create',\r\n    component: RoomCreate,\r\n  },\r\n  {\r\n    path: '/room/:id',\r\n    name: 'room-show',\r\n    component: RoomShow,\r\n    props: true,\r\n  },\r\n  {\r\n    path: '/about',\r\n    name: 'about',\r\n    // lazy-loaded when the route is visited.\r\n    component: () =>\r\n      import(/* webpackChunkName: \"about\" */ '../views/About.vue'),\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'login',\r\n    component: LoginPage,\r\n  },\r\n  {\r\n    path: '/register',\r\n    name: 'register',\r\n    component: RegisterPage,\r\n  },\r\n  {\r\n    path: '/forgetpwd/:userToken/:mailToken',\r\n    name: 'mail-verify',\r\n    component: MailRedirect,\r\n    props: true,\r\n  },\r\n  {\r\n    path: '/profile',\r\n    name: 'profile',\r\n    component: UserPage,\r\n  },\r\n  {\r\n    path: '/:type',\r\n    name: 'unknow-redirect',\r\n    component: CommonRedirect,\r\n    props: true,\r\n  },\r\n  {\r\n    path: '/:type/:userToken/:token',\r\n    name: 'verify-mail',\r\n    component: CommonRedirect,\r\n    props: true,\r\n  },\r\n  // {\r\n  //   path: '/roomlist',\r\n  //   name: 'roomlist',\r\n  //   component: RoomList,\r\n  // },\r\n]\r\n\r\nconst router = createRouter({\r\n  /* mode: 'history', */\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n});\r\n\r\nexport default router;\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavBar.vue?vue&type=style&index=0&id=2ada9471&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RoomList.vue?vue&type=style&index=0&id=110218d8&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=48494000&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RoomShow.vue?vue&type=style&index=0&id=e185418c&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RoomListCard.vue?vue&type=style&index=0&id=26877d1c&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RoomCard.vue?vue&type=style&index=0&id=0591ce70&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=b77a4e62&scoped=true&lang=css\"","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"ef13\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=139dc7c4&scoped=true&lang=css\""],"sourceRoot":""}